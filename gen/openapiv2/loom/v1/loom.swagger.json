{
  "swagger": "2.0",
  "info": {
    "title": "loom/v1/loom.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "LoomService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/agents": {
      "get": {
        "summary": "ListAgents lists all registered agents.",
        "operationId": "LoomService_ListAgents",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListAgentsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "statusFilter",
            "description": "Filter by status",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "pageSize",
            "description": "Page size for pagination",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageToken",
            "description": "Page token for pagination",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "post": {
        "summary": "CreateAgentFromConfig creates an agent from configuration.",
        "operationId": "LoomService_CreateAgentFromConfig",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AgentInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "CreateAgentRequest creates an agent from configuration.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreateAgentRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/agents/{agentId}": {
      "get": {
        "summary": "GetAgent retrieves agent information.",
        "operationId": "LoomService_GetAgent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AgentInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "agentId",
            "description": "Agent identifier (name or ID)",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "delete": {
        "summary": "DeleteAgent deletes an agent.",
        "operationId": "LoomService_DeleteAgent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteAgentResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "agentId",
            "description": "Agent identifier",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "force",
            "description": "Force delete even if running",
            "in": "query",
            "required": false,
            "type": "boolean"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/agents/{agentId}:reload": {
      "post": {
        "summary": "ReloadAgent hot-reloads agent configuration without stopping.",
        "operationId": "LoomService_ReloadAgent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AgentInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "agentId",
            "description": "Agent identifier",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceReloadAgentBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/agents/{agentId}:start": {
      "post": {
        "summary": "StartAgent starts a stopped agent.",
        "operationId": "LoomService_StartAgent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AgentInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "agentId",
            "description": "Agent identifier",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceStartAgentBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/agents/{agentId}:stop": {
      "post": {
        "summary": "StopAgent stops a running agent.",
        "operationId": "LoomService_StopAgent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AgentInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "agentId",
            "description": "Agent identifier",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceStopAgentBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/artifacts": {
      "get": {
        "summary": "ListArtifacts lists artifacts with optional filtering.",
        "operationId": "LoomService_ListArtifacts",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListArtifactsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "source",
            "description": "Filter by source: \"user\", \"generated\", or \"agent\" (optional)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "contentType",
            "description": "Filter by MIME type (e.g., \"text/csv\") (optional)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "tags",
            "description": "Filter by tags (artifacts must have ALL specified tags) (optional)",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi"
          },
          {
            "name": "limit",
            "description": "Maximum number of results (default: 50)",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "description": "Pagination offset",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "includeDeleted",
            "description": "Include soft-deleted artifacts",
            "in": "query",
            "required": false,
            "type": "boolean"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "post": {
        "summary": "UploadArtifact uploads a file to artifacts storage.",
        "operationId": "LoomService_UploadArtifact",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1UploadArtifactResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "UploadArtifactRequest uploads a file to artifacts storage.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1UploadArtifactRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/artifacts/stats": {
      "get": {
        "summary": "GetArtifactStats retrieves storage statistics.",
        "operationId": "LoomService_GetArtifactStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetArtifactStatsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/artifacts/{id}": {
      "get": {
        "summary": "GetArtifact retrieves artifact metadata.",
        "operationId": "LoomService_GetArtifact",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetArtifactResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "Artifact ID (primary lookup)",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "name",
            "description": "Artifact name (alternative lookup if ID not provided)",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "delete": {
        "summary": "DeleteArtifact deletes an artifact (soft or hard delete).",
        "operationId": "LoomService_DeleteArtifact",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteArtifactResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "Artifact ID",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "hardDelete",
            "description": "If true, physically delete the file; if false, soft delete (default: false)",
            "in": "query",
            "required": false,
            "type": "boolean"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/artifacts/{id}/content": {
      "get": {
        "summary": "GetArtifactContent reads artifact file content.",
        "operationId": "LoomService_GetArtifactContent",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetArtifactContentResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "Artifact ID",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "encoding",
            "description": "Output encoding: \"text\" or \"base64\" (default: \"text\")",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "maxSizeMb",
            "description": "Maximum file size to read in MB (default: 10MB)",
            "in": "query",
            "required": false,
            "type": "string",
            "format": "int64"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/artifacts:search": {
      "get": {
        "summary": "SearchArtifacts performs full-text search on artifacts.",
        "operationId": "LoomService_SearchArtifacts",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SearchArtifactsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "query",
            "description": "Search query (FTS5 syntax supported)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "limit",
            "description": "Maximum number of results (default: 20)",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/bus/publish": {
      "post": {
        "summary": "Publish publishes a message to a topic (one-to-many broadcast).",
        "operationId": "LoomService_Publish",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1PublishResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "PublishRequest publishes a message to a topic.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1PublishRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/bus/subscribe": {
      "post": {
        "summary": "Subscribe subscribes to a topic and receives messages via stream.",
        "operationId": "LoomService_Subscribe",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1BusMessage"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1BusMessage"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "SubscribeRequest subscribes to a topic with optional filtering.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1SubscribeRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/bus/topics": {
      "get": {
        "summary": "ListTopics lists all active topics.",
        "operationId": "LoomService_ListTopics",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListTopicsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "filterPattern",
            "description": "Optional filter pattern (supports wildcards: \"workflow.*\")",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "includeInactive",
            "description": "Include topics with zero subscribers (default: false)",
            "in": "query",
            "required": false,
            "type": "boolean"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/bus/topics/{topic}/stats": {
      "get": {
        "summary": "GetTopicStats retrieves statistics for a topic.",
        "operationId": "LoomService_GetTopicStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1TopicStats"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "topic",
            "description": "Topic name",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/bus/unsubscribe": {
      "post": {
        "summary": "Unsubscribe cancels a topic subscription.",
        "operationId": "LoomService_Unsubscribe",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1UnsubscribeResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "UnsubscribeRequest cancels a subscription.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1UnsubscribeRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/clarifications/{sessionId}/answer": {
      "post": {
        "summary": "AnswerClarificationQuestion provides an answer to a clarification question asked by an agent.\nUsed by TUI and other clients to respond to EventQuestionAsked progress events.",
        "operationId": "LoomService_AnswerClarificationQuestion",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AnswerClarificationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionId",
            "description": "Session ID where the question was asked",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceAnswerClarificationQuestionBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/health": {
      "get": {
        "summary": "GetHealth returns health status of the agent.",
        "operationId": "LoomService_GetHealth",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1HealthStatus"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/mcp/servers": {
      "get": {
        "summary": "ListMCPServers lists all configured MCP servers.",
        "operationId": "LoomService_ListMCPServers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListMCPServersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "LoomService"
        ]
      },
      "post": {
        "summary": "AddMCPServer adds a new MCP server configuration.",
        "operationId": "LoomService_AddMCPServer",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AddMCPServerResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "AddMCPServerRequest adds a new MCP server.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1AddMCPServerRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/mcp/servers/{serverName}": {
      "get": {
        "summary": "GetMCPServer retrieves a specific MCP server configuration.",
        "operationId": "LoomService_GetMCPServer",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1MCPServerInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "serverName",
            "description": "Server name",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "delete": {
        "summary": "DeleteMCPServer removes an MCP server configuration.",
        "operationId": "LoomService_DeleteMCPServer",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteMCPServerResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "serverName",
            "description": "Server name to delete",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "force",
            "description": "Force delete even if server is running",
            "in": "query",
            "required": false,
            "type": "boolean"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "put": {
        "summary": "UpdateMCPServer updates an existing MCP server configuration.",
        "operationId": "LoomService_UpdateMCPServer",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1MCPServerInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "serverName",
            "description": "Server name to update",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceUpdateMCPServerBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/mcp/servers/{serverName}/tools": {
      "get": {
        "summary": "ListMCPServerTools lists all tools from a specific MCP server.\nThis queries the MCP server directly through the manager, not the agent's tool registry.",
        "operationId": "LoomService_ListMCPServerTools",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListMCPServerToolsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "serverName",
            "description": "Server name to list tools from",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/mcp/servers/{serverName}:restart": {
      "post": {
        "summary": "RestartMCPServer restarts a running MCP server.",
        "operationId": "LoomService_RestartMCPServer",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1MCPServerInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "serverName",
            "description": "Server name to restart",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceRestartMCPServerBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/mcp/servers:health": {
      "get": {
        "summary": "HealthCheckMCPServers checks health of all MCP servers.",
        "operationId": "LoomService_HealthCheckMCPServers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1HealthCheckMCPServersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/mcp/servers:test": {
      "post": {
        "summary": "TestMCPServerConnection tests an MCP server configuration without persisting it.\nThis allows users to validate their configuration (command, args, env vars) before saving.",
        "operationId": "LoomService_TestMCPServerConnection",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1TestMCPServerConnectionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "TestMCPServerConnectionRequest tests an MCP server configuration.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1TestMCPServerConnectionRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/messages:sendAndReceive": {
      "post": {
        "summary": "SendAndReceive sends a message and waits for response (RPC-style).",
        "operationId": "LoomService_SendAndReceive",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SendAndReceiveResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "SendAndReceiveRequest sends a message and waits for response (RPC-style).",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1SendAndReceiveRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/messages:sendAsync": {
      "post": {
        "summary": "SendAsync sends a message asynchronously (fire-and-forget).",
        "operationId": "LoomService_SendAsync",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SendAsyncResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "SendAsyncRequest sends a message asynchronously (fire-and-forget).",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1SendAsyncRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/models": {
      "get": {
        "summary": "ListAvailableModels lists all available LLM models/providers.",
        "operationId": "LoomService_ListAvailableModels",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListAvailableModelsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "providerFilter",
            "description": "Filter by provider",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "capabilityFilter",
            "description": "Filter by capability (text, vision, tool-use, etc.)",
            "in": "query",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/patterns": {
      "get": {
        "summary": "ListPatterns retrieves available patterns with optional filtering.",
        "operationId": "LoomService_ListPatterns",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListPatternsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "domain",
            "description": "Filter by domain",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "category",
            "description": "Filter by category",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "search",
            "description": "Search query",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "post": {
        "summary": "CreatePattern creates a new pattern at runtime.",
        "operationId": "LoomService_CreatePattern",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1CreatePatternResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "CreatePatternRequest creates a new pattern at runtime.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreatePatternRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/patterns/{name}": {
      "get": {
        "summary": "GetPattern retrieves a specific pattern by name.",
        "operationId": "LoomService_GetPattern",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Pattern"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "description": "Pattern name",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/patterns:load": {
      "post": {
        "summary": "LoadPatterns loads pattern definitions from a directory or repository.",
        "operationId": "LoomService_LoadPatterns",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1LoadPatternsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "LoadPatternsRequest loads patterns.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1LoadPatternsRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/patterns:stream": {
      "get": {
        "summary": "StreamPatternUpdates streams real-time pattern updates (additions, changes, deletions).\nUsed by TUI and other clients to show live pattern library changes.",
        "operationId": "LoomService_StreamPatternUpdates",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1PatternUpdateEvent"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1PatternUpdateEvent"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "agentId",
            "description": "Optional: Filter by agent ID (empty = all agents)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "category",
            "description": "Optional: Filter by pattern category",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/server/config": {
      "get": {
        "summary": "GetServerConfig retrieves the current server configuration.",
        "operationId": "LoomService_GetServerConfig",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ServerConfig"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/server/tls": {
      "get": {
        "summary": "GetTLSStatus retrieves the current TLS/certificate status.",
        "operationId": "LoomService_GetTLSStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1TLSStatus"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/server/tls:renew": {
      "post": {
        "summary": "RenewCertificate manually triggers certificate renewal (for Let's Encrypt).",
        "operationId": "LoomService_RenewCertificate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1RenewCertificateResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "RenewCertificateRequest manually triggers certificate renewal.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1RenewCertificateRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/sessions": {
      "get": {
        "summary": "ListSessions lists all sessions with optional filtering.",
        "operationId": "LoomService_ListSessions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListSessionsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "state",
            "description": "Filter by state",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "backend",
            "description": "Filter by backend",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "offset",
            "description": "Pagination offset",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "limit",
            "description": "Pagination limit",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "post": {
        "summary": "CreateSession creates a new conversation session.",
        "operationId": "LoomService_CreateSession",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Session"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "CreateSessionRequest creates a session.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreateSessionRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/sessions/{sessionId}": {
      "get": {
        "summary": "GetSession retrieves session details.",
        "operationId": "LoomService_GetSession",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Session"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionId",
            "description": "Session ID",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "delete": {
        "summary": "DeleteSession deletes a session and its history.",
        "operationId": "LoomService_DeleteSession",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteSessionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionId",
            "description": "Session ID",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/sessions/{sessionId}/history": {
      "get": {
        "summary": "GetConversationHistory retrieves conversation history for a session.",
        "operationId": "LoomService_GetConversationHistory",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ConversationHistory"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionId",
            "description": "Session ID",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "description": "Limit number of messages",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "description": "Offset for pagination",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/sessions/{sessionId}:subscribe": {
      "get": {
        "summary": "SubscribeToSession subscribes to real-time updates for a session.\nReturns a stream of updates when new messages arrive or session state changes.\nThis allows clients to receive asynchronous responses from workflow coordinators\nand sub-agents without polling.",
        "operationId": "LoomService_SubscribeToSession",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1SessionUpdate"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1SessionUpdate"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionId",
            "description": "Session ID to subscribe to",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "agentId",
            "description": "Optional: Agent ID to filter updates (empty = all agents in session)",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/sessions/{sessionId}:switch-model": {
      "post": {
        "summary": "SwitchModel switches the LLM model/provider for a session without losing context.",
        "operationId": "LoomService_SwitchModel",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SwitchModelResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionId",
            "description": "Session ID to switch model for",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceSwitchModelBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/shared-memory/{namespace}/keys": {
      "get": {
        "summary": "ListSharedMemoryKeys lists all keys in a namespace.",
        "operationId": "LoomService_ListSharedMemoryKeys",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListSharedMemoryKeysResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "namespace",
            "description": "Namespace to list",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": [
              "SHARED_MEMORY_NAMESPACE_UNSPECIFIED",
              "SHARED_MEMORY_NAMESPACE_GLOBAL",
              "SHARED_MEMORY_NAMESPACE_WORKFLOW",
              "SHARED_MEMORY_NAMESPACE_SWARM",
              "SHARED_MEMORY_NAMESPACE_DEBATE",
              "SHARED_MEMORY_NAMESPACE_SESSION",
              "SHARED_MEMORY_NAMESPACE_AGENT"
            ]
          },
          {
            "name": "keyPattern",
            "description": "Optional key pattern filter (supports wildcards)",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "agentId",
            "description": "Agent ID performing this list",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/shared-memory/{namespace}/stats": {
      "get": {
        "summary": "GetSharedMemoryStats retrieves statistics for a namespace.",
        "operationId": "LoomService_GetSharedMemoryStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SharedMemoryStats"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "namespace",
            "description": "Namespace to get stats for",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": [
              "SHARED_MEMORY_NAMESPACE_UNSPECIFIED",
              "SHARED_MEMORY_NAMESPACE_GLOBAL",
              "SHARED_MEMORY_NAMESPACE_WORKFLOW",
              "SHARED_MEMORY_NAMESPACE_SWARM",
              "SHARED_MEMORY_NAMESPACE_DEBATE",
              "SHARED_MEMORY_NAMESPACE_SESSION",
              "SHARED_MEMORY_NAMESPACE_AGENT"
            ]
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/shared-memory/{namespace}/{key}": {
      "get": {
        "summary": "GetSharedMemory reads a value from shared memory.",
        "operationId": "LoomService_GetSharedMemory",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetSharedMemoryResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "namespace",
            "description": "Namespace to read from",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": [
              "SHARED_MEMORY_NAMESPACE_UNSPECIFIED",
              "SHARED_MEMORY_NAMESPACE_GLOBAL",
              "SHARED_MEMORY_NAMESPACE_WORKFLOW",
              "SHARED_MEMORY_NAMESPACE_SWARM",
              "SHARED_MEMORY_NAMESPACE_DEBATE",
              "SHARED_MEMORY_NAMESPACE_SESSION",
              "SHARED_MEMORY_NAMESPACE_AGENT"
            ]
          },
          {
            "name": "key",
            "description": "Key to read",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "agentId",
            "description": "Agent ID performing this read",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "delete": {
        "summary": "DeleteSharedMemory removes a value from shared memory.",
        "operationId": "LoomService_DeleteSharedMemory",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteSharedMemoryResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "namespace",
            "description": "Namespace to delete from",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": [
              "SHARED_MEMORY_NAMESPACE_UNSPECIFIED",
              "SHARED_MEMORY_NAMESPACE_GLOBAL",
              "SHARED_MEMORY_NAMESPACE_WORKFLOW",
              "SHARED_MEMORY_NAMESPACE_SWARM",
              "SHARED_MEMORY_NAMESPACE_DEBATE",
              "SHARED_MEMORY_NAMESPACE_SESSION",
              "SHARED_MEMORY_NAMESPACE_AGENT"
            ]
          },
          {
            "name": "key",
            "description": "Key to delete",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "expectedVersion",
            "description": "Expected version for optimistic concurrency (0 = ignore version check)",
            "in": "query",
            "required": false,
            "type": "string",
            "format": "int64"
          },
          {
            "name": "agentId",
            "description": "Agent ID performing this delete",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "put": {
        "summary": "PutSharedMemory writes or updates a value in shared memory.",
        "operationId": "LoomService_PutSharedMemory",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1PutSharedMemoryResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "namespace",
            "description": "Namespace to write to",
            "in": "path",
            "required": true,
            "type": "string",
            "enum": [
              "SHARED_MEMORY_NAMESPACE_UNSPECIFIED",
              "SHARED_MEMORY_NAMESPACE_GLOBAL",
              "SHARED_MEMORY_NAMESPACE_WORKFLOW",
              "SHARED_MEMORY_NAMESPACE_SWARM",
              "SHARED_MEMORY_NAMESPACE_DEBATE",
              "SHARED_MEMORY_NAMESPACE_SESSION",
              "SHARED_MEMORY_NAMESPACE_AGENT"
            ]
          },
          {
            "name": "key",
            "description": "Key to write (creates if doesn't exist, updates if exists)",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServicePutSharedMemoryBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/shared-memory:watch": {
      "post": {
        "summary": "WatchSharedMemory watches for changes to keys in a namespace.",
        "operationId": "LoomService_WatchSharedMemory",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1SharedMemoryValue"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1SharedMemoryValue"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "WatchSharedMemoryRequest watches for changes to keys in a namespace.\nReturns a stream of SharedMemoryValue as keys are created/updated/deleted.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1WatchSharedMemoryRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/tools": {
      "get": {
        "summary": "ListTools lists all registered tools.",
        "operationId": "LoomService_ListTools",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListToolsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "backend",
            "description": "Filter by backend",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/tools:register": {
      "post": {
        "summary": "RegisterTool dynamically registers a new tool.",
        "operationId": "LoomService_RegisterTool",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1RegisterToolResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "RegisterToolRequest registers a tool.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1RegisterToolRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/tools:request-permission": {
      "post": {
        "summary": "RequestToolPermission requests user permission to execute a tool.",
        "operationId": "LoomService_RequestToolPermission",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ToolPermissionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "ToolPermissionRequest requests permission to execute a tool.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1ToolPermissionRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/traces/{traceId}": {
      "get": {
        "summary": "GetTrace retrieves execution trace for observability.",
        "operationId": "LoomService_GetTrace",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1Trace"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "traceId",
            "description": "Trace ID",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/weave": {
      "post": {
        "summary": "Weave executes a user query by selecting patterns, executing tools,\nand weaving LLM intelligence with domain knowledge.",
        "operationId": "LoomService_Weave",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1WeaveResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "WeaveRequest initiates a query execution.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1WeaveRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/weave:stream": {
      "post": {
        "summary": "StreamWeave executes a query and streams incremental progress updates.",
        "operationId": "LoomService_StreamWeave",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1WeaveProgress"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1WeaveProgress"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "WeaveRequest initiates a query execution.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1WeaveRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/executions": {
      "get": {
        "summary": "ListWorkflowExecutions lists workflow executions.",
        "operationId": "LoomService_ListWorkflowExecutions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListWorkflowExecutionsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "statusFilter",
            "description": "Filter by status",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "patternTypeFilter",
            "description": "Filter by pattern type",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "pageSize",
            "description": "Page size",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageToken",
            "description": "Page token",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/executions/{executionId}": {
      "get": {
        "summary": "GetWorkflowExecution retrieves a workflow execution.",
        "operationId": "LoomService_GetWorkflowExecution",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1WorkflowExecution"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "executionId",
            "description": "Execution ID",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/schedules": {
      "get": {
        "summary": "ListScheduledWorkflows lists all scheduled workflows.",
        "operationId": "LoomService_ListScheduledWorkflows",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListScheduledWorkflowsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "enabledOnly",
            "description": "Filter to enabled schedules only",
            "in": "query",
            "required": false,
            "type": "boolean"
          },
          {
            "name": "pageSize",
            "description": "Page size",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "pageToken",
            "description": "Page token",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "post": {
        "summary": "ScheduleWorkflow creates a new scheduled workflow.",
        "operationId": "LoomService_ScheduleWorkflow",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ScheduleWorkflowResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "ScheduleWorkflowRequest creates a new scheduled workflow.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1ScheduleWorkflowRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/schedules/{scheduleId}": {
      "get": {
        "summary": "GetScheduledWorkflow retrieves a scheduled workflow by ID.",
        "operationId": "LoomService_GetScheduledWorkflow",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ScheduledWorkflow"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "scheduleId",
            "description": "Schedule ID",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "delete": {
        "summary": "DeleteScheduledWorkflow deletes a scheduled workflow.",
        "operationId": "LoomService_DeleteScheduledWorkflow",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "scheduleId",
            "description": "Schedule ID to delete",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "LoomService"
        ]
      },
      "patch": {
        "summary": "UpdateScheduledWorkflow updates an existing scheduled workflow.",
        "operationId": "LoomService_UpdateScheduledWorkflow",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ScheduleWorkflowResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "scheduleId",
            "description": "Schedule ID to update",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceUpdateScheduledWorkflowBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/schedules/{scheduleId}/history": {
      "get": {
        "summary": "GetScheduleHistory retrieves execution history for a schedule.",
        "operationId": "LoomService_GetScheduleHistory",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetScheduleHistoryResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "scheduleId",
            "description": "Schedule ID",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "description": "Maximum number of executions to return (default: 50)",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/schedules/{scheduleId}:pause": {
      "post": {
        "summary": "PauseSchedule pauses a schedule without deleting it.",
        "operationId": "LoomService_PauseSchedule",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "scheduleId",
            "description": "Schedule ID to pause",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServicePauseScheduleBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/schedules/{scheduleId}:resume": {
      "post": {
        "summary": "ResumeSchedule resumes a paused schedule.",
        "operationId": "LoomService_ResumeSchedule",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "scheduleId",
            "description": "Schedule ID to resume",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceResumeScheduleBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows/schedules/{scheduleId}:trigger": {
      "post": {
        "summary": "TriggerScheduledWorkflow manually triggers a scheduled workflow immediately.",
        "operationId": "LoomService_TriggerScheduledWorkflow",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ExecuteWorkflowResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "scheduleId",
            "description": "Schedule ID to trigger",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoomServiceTriggerScheduledWorkflowBody"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows:execute": {
      "post": {
        "summary": "ExecuteWorkflow executes a multi-agent workflow pattern.",
        "operationId": "LoomService_ExecuteWorkflow",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ExecuteWorkflowResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "ExecuteWorkflowRequest initiates a workflow execution.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1ExecuteWorkflowRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    },
    "/v1/workflows:stream": {
      "post": {
        "summary": "StreamWorkflow executes a workflow and streams progress updates.",
        "operationId": "LoomService_StreamWorkflow",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "type": "object",
              "properties": {
                "result": {
                  "$ref": "#/definitions/v1WorkflowProgress"
                },
                "error": {
                  "$ref": "#/definitions/rpcStatus"
                }
              },
              "title": "Stream result of v1WorkflowProgress"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "ExecuteWorkflowRequest initiates a workflow execution.",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1ExecuteWorkflowRequest"
            }
          }
        ],
        "tags": [
          "LoomService"
        ]
      }
    }
  },
  "definitions": {
    "LoomServiceAnswerClarificationQuestionBody": {
      "type": "object",
      "properties": {
        "questionId": {
          "type": "string",
          "title": "Question ID (from QuestionAskedMsg/HITLRequestInfo)"
        },
        "answer": {
          "type": "string",
          "title": "User's answer"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID (optional, for multi-agent scenarios)"
        }
      },
      "description": "AnswerClarificationRequest provides an answer to a clarification question."
    },
    "LoomServicePauseScheduleBody": {
      "type": "object",
      "description": "PauseScheduleRequest pauses a schedule."
    },
    "LoomServicePutSharedMemoryBody": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "format": "byte",
          "title": "Value bytes to store"
        },
        "expectedVersion": {
          "type": "string",
          "format": "int64",
          "title": "Expected version for optimistic concurrency (0 = ignore version check)"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID performing this write"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Optional metadata"
        },
        "compress": {
          "type": "boolean",
          "title": "Enable compression for large values (auto-enabled for \u003e1KB)"
        }
      },
      "description": "PutSharedMemoryRequest writes or updates a value in shared memory."
    },
    "LoomServiceReloadAgentBody": {
      "type": "object",
      "properties": {
        "config": {
          "$ref": "#/definitions/v1AgentConfig",
          "title": "New configuration (if not loading from file)"
        },
        "reloadFromFile": {
          "type": "boolean",
          "title": "Reload from original config file"
        }
      },
      "description": "ReloadAgentRequest hot-reloads agent configuration."
    },
    "LoomServiceRestartMCPServerBody": {
      "type": "object",
      "properties": {
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Graceful shutdown timeout in seconds"
        }
      },
      "description": "RestartMCPServerRequest restarts an MCP server."
    },
    "LoomServiceResumeScheduleBody": {
      "type": "object",
      "description": "ResumeScheduleRequest resumes a paused schedule."
    },
    "LoomServiceStartAgentBody": {
      "type": "object",
      "description": "StartAgentRequest starts an agent."
    },
    "LoomServiceStopAgentBody": {
      "type": "object",
      "properties": {
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Graceful shutdown timeout (seconds)"
        }
      },
      "description": "StopAgentRequest stops an agent."
    },
    "LoomServiceSwitchModelBody": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID (optional, uses session's current agent if not specified)"
        },
        "provider": {
          "type": "string",
          "title": "Model provider (anthropic, bedrock, ollama, etc.)"
        },
        "model": {
          "type": "string",
          "title": "Specific model name (claude-sonnet-4.5, llama3, etc.)"
        },
        "preserveContext": {
          "type": "boolean",
          "title": "Preserve conversation context (default: true)"
        }
      },
      "description": "SwitchModelRequest switches the LLM model for a session."
    },
    "LoomServiceTriggerScheduledWorkflowBody": {
      "type": "object",
      "properties": {
        "skipIfRunning": {
          "type": "boolean",
          "title": "Override skip_if_running setting"
        },
        "variables": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Override variables"
        }
      },
      "description": "TriggerScheduledWorkflowRequest manually triggers a schedule."
    },
    "LoomServiceUpdateMCPServerBody": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Whether to enable the server"
        },
        "transport": {
          "type": "string",
          "title": "Transport type (stdio, http, sse)"
        },
        "command": {
          "type": "string",
          "title": "Command to execute"
        },
        "args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Command arguments"
        },
        "env": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Environment variables"
        },
        "workingDir": {
          "type": "string",
          "title": "Working directory"
        },
        "restartIfRunning": {
          "type": "boolean",
          "title": "Whether to restart the server if it's currently running"
        },
        "toolFilter": {
          "$ref": "#/definitions/v1ToolFilterConfig",
          "title": "Tool filter configuration"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Timeout in seconds for restart operation (default: 1 second)"
        },
        "url": {
          "type": "string",
          "title": "Server URL (required for http/sse transport)"
        },
        "enableSessions": {
          "type": "boolean",
          "title": "Enable session management (for streamable-http transport)"
        },
        "enableResumption": {
          "type": "boolean",
          "title": "Enable stream resumption (for streamable-http transport)"
        }
      },
      "description": "UpdateMCPServerRequest updates an MCP server."
    },
    "LoomServiceUpdateScheduledWorkflowBody": {
      "type": "object",
      "properties": {
        "pattern": {
          "$ref": "#/definitions/v1WorkflowPattern",
          "title": "Optional: New workflow pattern"
        },
        "schedule": {
          "$ref": "#/definitions/v1ScheduleConfig",
          "title": "Optional: New schedule configuration"
        }
      },
      "description": "UpdateScheduledWorkflowRequest updates an existing schedule."
    },
    "PolicyOverrideOverrideType": {
      "type": "string",
      "enum": [
        "OVERRIDE_TYPE_UNSPECIFIED",
        "OVERRIDE_TYPE_FORCE_REFERENCE",
        "OVERRIDE_TYPE_FORCE_VALUE"
      ],
      "default": "OVERRIDE_TYPE_UNSPECIFIED",
      "title": "Force reference or force value"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AddMCPServerRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Server name (unique identifier)"
        },
        "enabled": {
          "type": "boolean",
          "title": "Whether to enable the server"
        },
        "transport": {
          "type": "string",
          "title": "Transport type (stdio, http, sse)"
        },
        "command": {
          "type": "string",
          "title": "Command to execute"
        },
        "args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Command arguments"
        },
        "env": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Environment variables"
        },
        "workingDir": {
          "type": "string",
          "title": "Working directory"
        },
        "autoStart": {
          "type": "boolean",
          "title": "Whether to start the server immediately after adding"
        },
        "toolFilter": {
          "$ref": "#/definitions/v1ToolFilterConfig",
          "title": "Tool filter configuration"
        },
        "url": {
          "type": "string",
          "title": "Server URL (required for http/sse transport)"
        },
        "enableSessions": {
          "type": "boolean",
          "title": "Enable session management (for streamable-http transport)"
        },
        "enableResumption": {
          "type": "boolean",
          "title": "Enable stream resumption (for streamable-http transport)"
        }
      },
      "description": "AddMCPServerRequest adds a new MCP server."
    },
    "v1AddMCPServerResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Whether addition was successful"
        },
        "message": {
          "type": "string",
          "title": "Status message"
        },
        "server": {
          "$ref": "#/definitions/v1MCPServerInfo",
          "title": "Server information"
        }
      },
      "description": "AddMCPServerResponse confirms MCP server addition."
    },
    "v1AgentConfig": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Unique name for the agent (e.g., \"sql_expert\", \"security_analyst\")"
        },
        "description": {
          "type": "string",
          "title": "Human-readable description of the agent's purpose"
        },
        "llm": {
          "$ref": "#/definitions/v1LLMConfig",
          "title": "LLM configuration"
        },
        "systemPrompt": {
          "type": "string",
          "title": "System prompt that defines the agent's behavior and persona"
        },
        "tools": {
          "$ref": "#/definitions/v1ToolsConfig",
          "title": "Tools configuration"
        },
        "memory": {
          "$ref": "#/definitions/v1MemoryConfig",
          "title": "Memory/session storage configuration"
        },
        "behavior": {
          "$ref": "#/definitions/v1BehaviorConfig",
          "title": "Behavior constraints and limits"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Optional metadata (author, version, tags, etc.)"
        },
        "ephemeralAgents": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1EphemeralAgentPolicy"
          },
          "title": "Ephemeral agent policies - defines which agents can be spawned dynamically"
        },
        "rom": {
          "type": "string",
          "title": "ROM (Read-Only Memory) identifier for domain-specific knowledge\nOptions:\n  - \"TD\" or \"teradata\": Load Teradata SQL guidance (embedded TD.rom)\n  - \"auto\": Auto-detect based on backend configuration (default)\n  - \"\": No ROM (empty system prompt only)\nIf not specified, defaults to \"auto\" which detects ROM from backend path"
        },
        "enableFindingExtraction": {
          "type": "boolean",
          "description": "Automatic finding extraction configuration\nWhen enabled, the agent automatically extracts structured findings from tool results\nusing LLM-based semantic analysis. This replaces the manual record_finding tool.\n\nDefault: true"
        },
        "extractionCadence": {
          "type": "integer",
          "format": "int32",
          "title": "Number of tool executions between automatic finding extractions (default: 3)\nLower values extract more frequently (higher quality, higher cost)\nHigher values extract less frequently (lower cost, may miss patterns)"
        },
        "maxFindings": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum number of findings to keep in cache (default: 50)\nOldest findings are evicted using LRU when limit is reached\nLower values save tokens, higher values preserve more context"
        }
      },
      "description": "AgentConfig defines a complete agent configuration.\nThis message represents a declarative agent specification that can be\nloaded from YAML files or created programmatically."
    },
    "v1AgentExecutionCost": {
      "type": "object",
      "properties": {
        "totalTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Total tokens used"
        },
        "inputTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Input tokens"
        },
        "outputTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Output tokens"
        },
        "costUsd": {
          "type": "number",
          "format": "double",
          "title": "Cost in USD"
        },
        "model": {
          "type": "string",
          "title": "Model used"
        },
        "provider": {
          "type": "string",
          "title": "Provider"
        }
      },
      "description": "AgentExecutionCost tracks LLM costs for an agent in a workflow."
    },
    "v1AgentInfo": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Immutable agent GUID (UUID v4) - stable across renames and restarts.\nEvery agent instance has a unique ID automatically assigned by NewAgent().\nRegistry-managed agents have stable GUIDs persisted to database.\nStandalone and ephemeral agents have UUIDs but are not persisted.\nThis is the canonical identifier for the agent and should be used\nfor all API operations, logging, and cross-references."
        },
        "name": {
          "type": "string",
          "description": "Agent name - user-editable display name that can change.\nUse `id` for stable references, not `name`."
        },
        "status": {
          "type": "string",
          "title": "Agent status: \"running\", \"stopped\", \"error\", \"initializing\""
        },
        "uptimeSeconds": {
          "type": "string",
          "format": "int64",
          "title": "Uptime in seconds"
        },
        "activeSessions": {
          "type": "integer",
          "format": "int32",
          "title": "Number of active sessions"
        },
        "totalMessages": {
          "type": "string",
          "format": "int64",
          "title": "Number of total messages processed"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Agent metadata"
        },
        "config": {
          "$ref": "#/definitions/v1AgentConfig",
          "title": "Agent configuration"
        },
        "error": {
          "type": "string",
          "title": "Error message (if status is \"error\")"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp when agent was created (Unix seconds)"
        },
        "updatedAt": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp when agent was last updated (Unix seconds)"
        }
      },
      "description": "AgentInfo provides information about an agent instance."
    },
    "v1AgentPosition": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID"
        },
        "position": {
          "type": "string",
          "title": "Position taken"
        },
        "arguments": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Supporting arguments"
        },
        "confidence": {
          "type": "number",
          "format": "float",
          "title": "Confidence score (0.0-1.0)"
        },
        "responses": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Responses to other agents' positions"
        },
        "thinking": {
          "type": "string",
          "title": "Agent's internal reasoning process (extended thinking)"
        },
        "toolsUsed": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Tools used during position generation"
        },
        "toolCallCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total number of tool calls made"
        },
        "model": {
          "type": "string",
          "title": "Model name used by this agent"
        },
        "provider": {
          "type": "string",
          "title": "Provider name (e.g., \"anthropic\", \"bedrock\", \"ollama\")"
        }
      },
      "description": "AgentPosition represents an agent's argument in a debate."
    },
    "v1AgentResult": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID"
        },
        "output": {
          "type": "string",
          "title": "Agent's output text"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Agent-specific metadata (round number, stage, etc.)"
        },
        "confidenceScore": {
          "type": "number",
          "format": "float",
          "title": "Confidence score (if applicable)"
        },
        "durationMs": {
          "type": "string",
          "format": "int64",
          "title": "Execution duration for this agent (milliseconds)"
        },
        "cost": {
          "$ref": "#/definitions/v1AgentExecutionCost",
          "title": "Cost for this agent's execution"
        }
      },
      "description": "AgentResult represents the output from a single agent in a workflow."
    },
    "v1AgentTask": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID to execute the task"
        },
        "prompt": {
          "type": "string",
          "title": "Task-specific prompt"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Optional: Task metadata"
        }
      },
      "description": "AgentTask represents a single agent task with its own prompt."
    },
    "v1AnswerClarificationResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Success status"
        },
        "error": {
          "type": "string",
          "title": "Error message (if failed)"
        },
        "accepted": {
          "type": "boolean",
          "title": "Whether the answer was accepted (may be rejected if invalid/timeout)"
        }
      },
      "description": "AnswerClarificationResponse acknowledges the answer."
    },
    "v1Artifact": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Unique identifier (UUID)"
        },
        "name": {
          "type": "string",
          "title": "Filename"
        },
        "path": {
          "type": "string",
          "title": "Absolute path to the file"
        },
        "source": {
          "type": "string",
          "title": "Source type: \"user\" | \"generated\" | \"agent\""
        },
        "sourceAgentId": {
          "type": "string",
          "title": "Agent ID if generated by an agent (optional)"
        },
        "purpose": {
          "type": "string",
          "title": "Human-readable description/purpose (optional)"
        },
        "contentType": {
          "type": "string",
          "title": "MIME type (e.g., \"application/vnd.ms-excel\", \"text/csv\")"
        },
        "sizeBytes": {
          "type": "string",
          "format": "int64",
          "title": "File size in bytes"
        },
        "checksum": {
          "type": "string",
          "title": "SHA256 checksum for integrity verification"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "Creation timestamp (Unix seconds)"
        },
        "updatedAt": {
          "type": "string",
          "format": "int64",
          "title": "Last modification timestamp (Unix seconds)"
        },
        "lastAccessedAt": {
          "type": "string",
          "format": "int64",
          "title": "Last access timestamp (Unix seconds, optional)"
        },
        "accessCount": {
          "type": "integer",
          "format": "int32",
          "title": "Number of times artifact has been accessed"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Tags for categorization (e.g., [\"excel\", \"report\", \"finance\"])"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Additional metadata (JSON-serializable key-value pairs)"
        },
        "deletedAt": {
          "type": "string",
          "format": "int64",
          "title": "Soft delete timestamp (Unix seconds, optional)"
        }
      },
      "title": "Artifact represents a file in $LOOM_DATA_DIR/artifacts/"
    },
    "v1AssessmentStrategy": {
      "type": "string",
      "enum": [
        "ASSESSMENT_STRATEGY_UNSPECIFIED",
        "QUIZ",
        "PRACTICAL",
        "TEACHER_REVIEW",
        "SELF_ASSESSMENT"
      ],
      "default": "ASSESSMENT_STRATEGY_UNSPECIFIED",
      "description": "AssessmentStrategy defines how student learning is evaluated.\n\n - QUIZ: Quiz-based assessment\n - PRACTICAL: Practical exercises\n - TEACHER_REVIEW: Teacher evaluation\n - SELF_ASSESSMENT: Self-assessment by student"
    },
    "v1AutoPromoteConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Enable automatic promotion based on size"
        },
        "thresholdBytes": {
          "type": "string",
          "format": "int64",
          "title": "Size threshold in bytes (default: 1024 = 1KB)"
        }
      },
      "description": "AutoPromoteConfig controls automatic value-to-reference promotion."
    },
    "v1BehaviorConfig": {
      "type": "object",
      "properties": {
        "maxIterations": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum tool call iterations per turn"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Timeout in seconds for each message"
        },
        "allowCodeExecution": {
          "type": "boolean",
          "title": "Whether to allow code execution (security setting)"
        },
        "allowedDomains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Allowed domains for web access (empty = all)"
        },
        "maxTurns": {
          "type": "integer",
          "format": "int32",
          "description": "Maximum conversation turns before forcing completion (default: 25)\nA turn is one LLM call/response cycle. Complex tasks with many tool calls\nmay need higher values (e.g., 50-100)."
        },
        "maxToolExecutions": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum tool executions per conversation (default: 50)"
        },
        "patterns": {
          "$ref": "#/definitions/v1PatternConfig",
          "title": "Pattern configuration for pattern-guided learning (optional)"
        }
      },
      "title": "BehaviorConfig defines agent behavior constraints"
    },
    "v1BusMessage": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Unique message ID for tracking and deduplication"
        },
        "topic": {
          "type": "string",
          "title": "Topic this message is published to (e.g., \"workflow.started\", \"agent.status\")"
        },
        "fromAgent": {
          "type": "string",
          "title": "Source agent ID that published this message"
        },
        "payload": {
          "$ref": "#/definitions/v1MessagePayload",
          "title": "Message payload (value for small messages \u003c1KB, reference for large \u003e1KB)"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Message metadata (arbitrary key/value pairs for filtering and routing)"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Publish timestamp (Unix milliseconds)"
        },
        "ttlSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Message TTL in seconds (0 = no expiry, message lives until consumed)"
        }
      },
      "description": "BusMessage is the envelope for pub/sub messages broadcast to topic subscribers.\nUnlike point-to-point CommunicationMessage, BusMessage is one-to-many."
    },
    "v1CertificateInfo": {
      "type": "object",
      "properties": {
        "domains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Domain names covered by certificate"
        },
        "issuer": {
          "type": "string",
          "title": "Certificate issuer"
        },
        "expiresAt": {
          "type": "string",
          "format": "int64",
          "title": "Certificate expiration timestamp (Unix seconds)"
        },
        "daysUntilExpiry": {
          "type": "integer",
          "format": "int32",
          "title": "Days until expiration"
        },
        "valid": {
          "type": "boolean",
          "title": "Whether certificate is valid"
        }
      },
      "description": "CertificateInfo provides information about the active certificate."
    },
    "v1CollaborationMetrics": {
      "type": "object",
      "properties": {
        "perspectiveDiversity": {
          "type": "number",
          "format": "float",
          "title": "Diversity of perspectives (0.0-1.0)"
        },
        "agreementLevel": {
          "type": "number",
          "format": "float",
          "title": "Agreement level (0.0-1.0)"
        },
        "avgResponseLength": {
          "type": "integer",
          "format": "int32",
          "title": "Average response length"
        },
        "interactionCount": {
          "type": "integer",
          "format": "int32",
          "title": "Number of interactions"
        },
        "timeToConsensusMs": {
          "type": "string",
          "format": "int64",
          "title": "Time to consensus (milliseconds)"
        },
        "confidenceVariance": {
          "type": "number",
          "format": "float",
          "title": "Confidence variance across agents"
        }
      },
      "description": "CollaborationMetrics tracks collaboration quality metrics."
    },
    "v1CommunicationPolicy": {
      "type": "object",
      "properties": {
        "tier": {
          "$ref": "#/definitions/v1CommunicationTier",
          "title": "Communication tier for this message type"
        },
        "messageType": {
          "type": "string",
          "title": "Message type (e.g., \"session_state\", \"control\", \"data\")"
        },
        "autoPromote": {
          "$ref": "#/definitions/v1AutoPromoteConfig",
          "title": "Auto-promotion settings"
        },
        "overrides": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1PolicyOverride"
          },
          "title": "Policy overrides (force reference or value)"
        }
      },
      "description": "CommunicationPolicy defines when to use references vs values."
    },
    "v1CommunicationTier": {
      "type": "string",
      "enum": [
        "COMMUNICATION_TIER_UNSPECIFIED",
        "COMMUNICATION_TIER_ALWAYS_REFERENCE",
        "COMMUNICATION_TIER_AUTO_PROMOTE",
        "COMMUNICATION_TIER_ALWAYS_VALUE"
      ],
      "default": "COMMUNICATION_TIER_UNSPECIFIED",
      "description": "CommunicationTier defines the three-tier communication model.\n\n - COMMUNICATION_TIER_ALWAYS_REFERENCE: Tier 1: Always reference (shared mutable state, workflow context)\n - COMMUNICATION_TIER_AUTO_PROMOTE: Tier 2: Auto-promote based on size (\u003e1KB default)\n - COMMUNICATION_TIER_ALWAYS_VALUE: Tier 3: Always value (control messages, pattern refs, config)"
    },
    "v1ComponentHealth": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "title": "Component status"
        },
        "lastCheck": {
          "type": "string",
          "format": "int64",
          "title": "Last check timestamp"
        },
        "error": {
          "type": "string",
          "title": "Error message (if unhealthy)"
        },
        "latencyMs": {
          "type": "string",
          "format": "int64",
          "title": "Latency (milliseconds)"
        }
      },
      "description": "ComponentHealth tracks individual component health."
    },
    "v1ConditionalPattern": {
      "type": "object",
      "properties": {
        "conditionAgentId": {
          "type": "string",
          "title": "Agent ID for condition evaluation"
        },
        "conditionPrompt": {
          "type": "string",
          "title": "Prompt for condition agent"
        },
        "branches": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1WorkflowPattern"
          },
          "title": "Branches: condition value -\u003e workflow pattern"
        },
        "defaultBranch": {
          "$ref": "#/definitions/v1WorkflowPattern",
          "title": "Optional: Default branch if condition doesn't match any branch"
        }
      },
      "description": "ConditionalPattern routes execution based on an agent's decision.\nA classifier agent evaluates the condition and selects the workflow branch."
    },
    "v1ConversationHistory": {
      "type": "object",
      "properties": {
        "sessionId": {
          "type": "string",
          "title": "Session ID"
        },
        "messages": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Message"
          },
          "title": "Messages"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total message count"
        }
      },
      "description": "ConversationHistory contains conversation messages."
    },
    "v1CostInfo": {
      "type": "object",
      "properties": {
        "totalCostUsd": {
          "type": "number",
          "format": "double",
          "title": "Total cost (USD)"
        },
        "llmCost": {
          "$ref": "#/definitions/v1LLMCost",
          "title": "LLM cost breakdown"
        },
        "backendCostUsd": {
          "type": "number",
          "format": "double",
          "title": "Backend execution cost (if applicable)"
        }
      },
      "description": "CostInfo tracks LLM and execution costs."
    },
    "v1CreateAgentRequest": {
      "type": "object",
      "properties": {
        "config": {
          "$ref": "#/definitions/v1AgentConfig",
          "title": "Agent configuration"
        },
        "configPath": {
          "type": "string",
          "title": "Alternative: load from file path"
        }
      },
      "description": "CreateAgentRequest creates an agent from configuration."
    },
    "v1CreatePatternRequest": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID to create pattern for"
        },
        "name": {
          "type": "string",
          "title": "Pattern name (must be unique within agent)"
        },
        "yamlContent": {
          "type": "string",
          "title": "Pattern YAML content"
        }
      },
      "description": "CreatePatternRequest creates a new pattern at runtime."
    },
    "v1CreatePatternResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Success status"
        },
        "patternName": {
          "type": "string",
          "title": "Created pattern name"
        },
        "error": {
          "type": "string",
          "title": "Error message (if failed)"
        },
        "filePath": {
          "type": "string",
          "title": "File path where pattern was written"
        }
      },
      "description": "CreatePatternResponse confirms pattern creation."
    },
    "v1CreateSessionRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Session name (optional)"
        },
        "backend": {
          "type": "string",
          "title": "Backend type"
        },
        "config": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Backend configuration"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Metadata"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID (optional, defaults to first available agent in multi-agent mode)"
        }
      },
      "description": "CreateSessionRequest creates a session."
    },
    "v1CurriculumStep": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Step name"
        },
        "concepts": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Concepts to teach"
        },
        "examples": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Example problems"
        },
        "successCriteria": {
          "type": "string",
          "title": "Success criteria"
        }
      },
      "description": "CurriculumStep represents a single learning unit."
    },
    "v1CustomToolConfig": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Tool name"
        },
        "implementation": {
          "type": "string",
          "title": "Path to tool implementation (Go file or plugin)"
        }
      },
      "title": "CustomToolConfig defines a custom tool implementation"
    },
    "v1DataReference": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Unique identifier for this data chunk"
        },
        "sizeBytes": {
          "type": "string",
          "format": "int64",
          "title": "Size in bytes"
        },
        "location": {
          "$ref": "#/definitions/v1StorageLocation",
          "title": "Where the data is stored"
        },
        "checksum": {
          "type": "string",
          "title": "Checksum for validation (SHA-256)"
        },
        "compressed": {
          "type": "boolean",
          "title": "Whether data is compressed"
        },
        "contentType": {
          "type": "string",
          "title": "MIME type or data format hint"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Metadata about the data"
        },
        "storedAt": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp when data was stored (Unix milliseconds)"
        }
      },
      "description": "DataReference points to data in shared memory."
    },
    "v1DebatePattern": {
      "type": "object",
      "properties": {
        "topic": {
          "type": "string",
          "title": "Topic or question to debate"
        },
        "agentIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Agent IDs participating in the debate"
        },
        "rounds": {
          "type": "integer",
          "format": "int32",
          "title": "Number of debate rounds"
        },
        "mergeStrategy": {
          "$ref": "#/definitions/v1MergeStrategy",
          "title": "Strategy for merging final outputs"
        },
        "moderatorAgentId": {
          "type": "string",
          "title": "Optional: Moderator agent ID to guide debate"
        }
      },
      "description": "DebatePattern orchestrates multiple agents to debate a topic and reach consensus.\nAgents see each other's responses from previous rounds and build on them."
    },
    "v1DebateResult": {
      "type": "object",
      "properties": {
        "rounds": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DebateRound"
          },
          "title": "All debate rounds"
        },
        "consensus": {
          "type": "string",
          "title": "Final consensus reached"
        },
        "consensusAchieved": {
          "type": "boolean",
          "title": "Whether full consensus was achieved"
        },
        "moderatorSynthesis": {
          "type": "string",
          "title": "Moderator's synthesis (if moderator used)"
        },
        "winningPosition": {
          "type": "string",
          "title": "Winning position/argument"
        }
      },
      "description": "DebateResult contains detailed debate execution results."
    },
    "v1DebateRound": {
      "type": "object",
      "properties": {
        "roundNumber": {
          "type": "integer",
          "format": "int32",
          "title": "Round number (1-indexed)"
        },
        "positions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AgentPosition"
          },
          "title": "Agent positions in this round"
        },
        "synthesis": {
          "type": "string",
          "title": "Round summary/synthesis"
        },
        "consensusReached": {
          "type": "boolean",
          "title": "Whether consensus was reached in this round"
        }
      },
      "description": "DebateRound captures one round of debate discussion."
    },
    "v1DeleteAgentResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Whether deletion was successful"
        },
        "agentId": {
          "type": "string",
          "title": "Deleted agent ID"
        }
      },
      "description": "DeleteAgentResponse confirms deletion."
    },
    "v1DeleteArtifactResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Whether deletion was successful"
        }
      },
      "description": "DeleteArtifactResponse confirms deletion."
    },
    "v1DeleteMCPServerResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Whether deletion was successful"
        },
        "message": {
          "type": "string",
          "title": "Status message"
        }
      },
      "description": "DeleteMCPServerResponse confirms deletion."
    },
    "v1DeleteSessionResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Success status"
        },
        "message": {
          "type": "string",
          "title": "Message"
        }
      },
      "description": "DeleteSessionResponse confirms deletion."
    },
    "v1DeleteSharedMemoryResponse": {
      "type": "object",
      "properties": {
        "deleted": {
          "type": "boolean",
          "title": "True if key was found and deleted"
        },
        "deletedVersion": {
          "type": "string",
          "format": "int64",
          "title": "Version of deleted value (0 if not found)"
        }
      },
      "description": "DeleteSharedMemoryResponse confirms the delete operation."
    },
    "v1EphemeralAgentPolicy": {
      "type": "object",
      "properties": {
        "role": {
          "type": "string",
          "title": "Role name for the ephemeral agent (e.g., \"judge\", \"domain_expert\", \"moderator\")"
        },
        "trigger": {
          "$ref": "#/definitions/v1SpawnTrigger",
          "title": "Trigger conditions that determine when to spawn this agent"
        },
        "template": {
          "$ref": "#/definitions/v1AgentConfig",
          "title": "Template configuration for the spawned agent"
        },
        "maxSpawns": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum number of times this agent can be spawned per workflow"
        },
        "costLimitUsd": {
          "type": "number",
          "format": "float",
          "title": "Cost budget in USD (prevents runaway spawning)"
        }
      },
      "description": "EphemeralAgentPolicy defines when and how to spawn ephemeral agents.\nAgents declare these policies to dynamically create other agents based on runtime conditions."
    },
    "v1ExecuteWorkflowRequest": {
      "type": "object",
      "properties": {
        "pattern": {
          "$ref": "#/definitions/v1WorkflowPattern",
          "title": "Workflow pattern to execute"
        },
        "registryId": {
          "type": "string",
          "title": "Agent registry to use for agent lookup"
        },
        "variables": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Optional: Variables for prompt interpolation"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Optional: Execution timeout (seconds)"
        },
        "enableTrace": {
          "type": "boolean",
          "title": "Optional: Enable tracing"
        }
      },
      "description": "ExecuteWorkflowRequest initiates a workflow execution."
    },
    "v1ExecuteWorkflowResponse": {
      "type": "object",
      "properties": {
        "executionId": {
          "type": "string",
          "title": "Execution ID"
        },
        "result": {
          "$ref": "#/definitions/v1WorkflowResult",
          "title": "Workflow result"
        }
      },
      "description": "ExecuteWorkflowResponse contains the workflow execution result."
    },
    "v1ExecutionMetadata": {
      "type": "object",
      "properties": {
        "patternName": {
          "type": "string",
          "title": "Pattern selected"
        },
        "llmCalls": {
          "type": "integer",
          "format": "int32",
          "title": "Number of LLM calls"
        },
        "toolExecutions": {
          "type": "integer",
          "format": "int32",
          "title": "Number of tool executions"
        },
        "correctionAttempts": {
          "type": "integer",
          "format": "int32",
          "title": "Number of self-correction attempts"
        },
        "totalDurationMs": {
          "type": "string",
          "format": "int64",
          "title": "Total execution time (milliseconds)"
        },
        "guardrailsChecked": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Guardrail checks performed"
        }
      },
      "description": "ExecutionMetadata contains execution metadata."
    },
    "v1ExecutionResult": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "title": "Result type (query, operation, document, etc.)"
        },
        "dataJson": {
          "type": "string",
          "title": "Structured data (JSON) - for small results only"
        },
        "rowCount": {
          "type": "integer",
          "format": "int32",
          "title": "Row count (for query results)"
        },
        "columns": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Columns (for tabular results)"
        },
        "bytesScanned": {
          "type": "string",
          "format": "int64",
          "title": "Data scanned (bytes)"
        },
        "durationMs": {
          "type": "string",
          "format": "int64",
          "title": "Execution duration (milliseconds)"
        },
        "backendMetadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Backend-specific metadata"
        },
        "dataReference": {
          "$ref": "#/definitions/v1DataReference",
          "title": "Data reference for large results (stored in shared memory)"
        }
      },
      "description": "ExecutionResult contains domain-specific execution results."
    },
    "v1ExecutionStage": {
      "type": "string",
      "enum": [
        "EXECUTION_STAGE_UNSPECIFIED",
        "EXECUTION_STAGE_PATTERN_SELECTION",
        "EXECUTION_STAGE_SCHEMA_DISCOVERY",
        "EXECUTION_STAGE_LLM_GENERATION",
        "EXECUTION_STAGE_TOOL_EXECUTION",
        "EXECUTION_STAGE_HUMAN_IN_THE_LOOP",
        "EXECUTION_STAGE_GUARDRAIL_CHECK",
        "EXECUTION_STAGE_SELF_CORRECTION",
        "EXECUTION_STAGE_COMPLETED",
        "EXECUTION_STAGE_FAILED"
      ],
      "default": "EXECUTION_STAGE_UNSPECIFIED",
      "description": "ExecutionStage enum for tracking progress.\n\n - EXECUTION_STAGE_HUMAN_IN_THE_LOOP: Waiting for human response"
    },
    "v1ForkJoinPattern": {
      "type": "object",
      "properties": {
        "prompt": {
          "type": "string",
          "title": "Prompt sent to all agents"
        },
        "agentIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Agent IDs to execute in parallel"
        },
        "mergeStrategy": {
          "$ref": "#/definitions/v1MergeStrategy",
          "title": "Strategy for merging results"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Optional: Timeout for all parallel executions"
        }
      },
      "description": "ForkJoinPattern executes multiple agents in parallel on the same prompt,\nthen merges their results according to the specified strategy."
    },
    "v1GetArtifactContentResponse": {
      "type": "object",
      "properties": {
        "content": {
          "type": "string",
          "format": "byte",
          "title": "File content (text or base64-encoded)"
        },
        "encoding": {
          "type": "string",
          "title": "Encoding used: \"text\" or \"base64\""
        }
      },
      "description": "GetArtifactContentResponse returns file content."
    },
    "v1GetArtifactResponse": {
      "type": "object",
      "properties": {
        "artifact": {
          "$ref": "#/definitions/v1Artifact",
          "title": "Artifact metadata"
        }
      },
      "description": "GetArtifactResponse returns artifact metadata."
    },
    "v1GetArtifactStatsResponse": {
      "type": "object",
      "properties": {
        "totalFiles": {
          "type": "integer",
          "format": "int32",
          "title": "Total number of artifacts"
        },
        "totalSizeBytes": {
          "type": "string",
          "format": "int64",
          "title": "Total storage used in bytes"
        },
        "userFiles": {
          "type": "integer",
          "format": "int32",
          "title": "Number of user-provided artifacts"
        },
        "generatedFiles": {
          "type": "integer",
          "format": "int32",
          "title": "Number of generated artifacts"
        },
        "deletedFiles": {
          "type": "integer",
          "format": "int32",
          "title": "Number of soft-deleted artifacts"
        }
      },
      "description": "GetArtifactStatsResponse returns artifact storage stats."
    },
    "v1GetScheduleHistoryResponse": {
      "type": "object",
      "properties": {
        "executions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ScheduleExecution"
          },
          "title": "Schedule executions"
        }
      },
      "description": "GetScheduleHistoryResponse returns execution history."
    },
    "v1GetSharedMemoryResponse": {
      "type": "object",
      "properties": {
        "value": {
          "$ref": "#/definitions/v1SharedMemoryValue",
          "title": "Value (decompressed if it was compressed)"
        },
        "found": {
          "type": "boolean",
          "title": "True if key was found"
        }
      },
      "description": "GetSharedMemoryResponse returns the requested value."
    },
    "v1HITLRequestInfo": {
      "type": "object",
      "properties": {
        "requestId": {
          "type": "string",
          "title": "Request ID (generated by contact_human tool or clarification system)"
        },
        "question": {
          "type": "string",
          "title": "Question being asked to the human"
        },
        "requestType": {
          "type": "string",
          "title": "Request type (approval, decision, input, review, clarification)"
        },
        "priority": {
          "type": "string",
          "title": "Priority (low, normal, high, critical)"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Timeout in seconds"
        },
        "contextJson": {
          "type": "string",
          "title": "Additional context as JSON"
        },
        "questionId": {
          "type": "string",
          "title": "Question ID for clarification questions (used with AnswerClarificationQuestion RPC)"
        },
        "options": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Suggested options for the user (if applicable)"
        }
      },
      "description": "HITLRequestInfo carries information about a human-in-the-loop request."
    },
    "v1HealthCheckMCPServersResponse": {
      "type": "object",
      "properties": {
        "servers": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1MCPServerHealth"
          },
          "title": "Health status for each server"
        }
      },
      "description": "HealthCheckMCPServersResponse returns health status."
    },
    "v1HealthStatus": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "title": "Overall status (healthy, degraded, unhealthy)"
        },
        "components": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/v1ComponentHealth"
          },
          "title": "Component statuses"
        },
        "version": {
          "type": "string",
          "title": "Version info"
        },
        "uptimeSeconds": {
          "type": "string",
          "format": "int64",
          "title": "Uptime (seconds)"
        }
      },
      "description": "HealthStatus returns system health."
    },
    "v1IterativeWorkflowPattern": {
      "type": "object",
      "properties": {
        "pipeline": {
          "$ref": "#/definitions/v1PipelinePattern",
          "title": "Base pipeline configuration"
        },
        "maxIterations": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum number of iterations before forcibly stopping\n(prevents infinite loops; default: 3)"
        },
        "restartPolicy": {
          "$ref": "#/definitions/v1RestartPolicy",
          "title": "Restart policy configuration"
        },
        "restartTriggers": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Which stage IDs are allowed to trigger restarts\nEmpty = all stages can trigger restarts"
        },
        "restartTopic": {
          "type": "string",
          "title": "Topic for restart coordination messages (default: \"workflow.restart\")"
        }
      },
      "description": "IterativeWorkflowPattern extends PipelinePattern with autonomous restart capabilities.\nStages can trigger restarts of earlier stages via pub/sub coordination, enabling\nagents to negotiate and self-correct without human intervention.\n\nExample use case: Stage 6 hits processing limits and requests Stage 2 to find\na different table with fewer rows."
    },
    "v1LLMConfig": {
      "type": "object",
      "properties": {
        "provider": {
          "type": "string",
          "title": "Provider name: \"anthropic\", \"bedrock\", \"ollama\""
        },
        "model": {
          "type": "string",
          "title": "Model identifier (e.g., \"claude-3-5-sonnet-20241022-v2:0\")"
        },
        "temperature": {
          "type": "number",
          "format": "float",
          "title": "Temperature (0.0-1.0) controls randomness"
        },
        "maxTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum tokens in response"
        },
        "stopSequences": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Stop sequences to end generation"
        },
        "topP": {
          "type": "number",
          "format": "float",
          "title": "Top-p sampling parameter (0.0-1.0)"
        },
        "topK": {
          "type": "integer",
          "format": "int32",
          "title": "Top-k sampling parameter"
        },
        "maxContextTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum context window tokens supported by the model\nIf not set, will be auto-detected from model name or use provider default\nExamples: Claude Sonnet 4.5 = 200000, Llama 3.1 = 128000, Mistral = 32000"
        },
        "reservedOutputTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Tokens reserved for model output (typically 10% of max_context_tokens)\nIf not set, will be calculated as max_context_tokens * 0.1\nExamples: Claude (200K) = 20000, Llama (128K) = 12800, Mistral (32K) = 3200"
        }
      },
      "title": "LLMConfig configures the language model provider and parameters"
    },
    "v1LLMCost": {
      "type": "object",
      "properties": {
        "totalTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Total tokens used"
        },
        "inputTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Input tokens"
        },
        "outputTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Output tokens"
        },
        "costUsd": {
          "type": "number",
          "format": "double",
          "title": "Cost for this LLM usage (USD)"
        },
        "model": {
          "type": "string",
          "title": "Model used"
        },
        "provider": {
          "type": "string",
          "title": "Provider"
        }
      },
      "description": "LLMCost tracks token usage and costs."
    },
    "v1LetsEncryptConfig": {
      "type": "object",
      "properties": {
        "domains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Domain name(s) for certificate (required)\nExample: [\"api.example.com\"] or [\"api.example.com\", \"www.example.com\"]"
        },
        "email": {
          "type": "string",
          "title": "Email address for Let's Encrypt notifications (required)"
        },
        "acmeDirectoryUrl": {
          "type": "string",
          "title": "ACME directory URL (default: production Let's Encrypt)\nUse \"https://acme-staging-v02.api.letsencrypt.org/directory\" for testing"
        },
        "httpChallengePort": {
          "type": "integer",
          "format": "int32",
          "title": "HTTP-01 challenge port (default: 80)\nMust be accessible from the internet for Let's Encrypt validation"
        },
        "cacheDir": {
          "type": "string",
          "title": "Certificate cache directory (default: $LOOM_DATA_DIR/certs)"
        },
        "autoRenew": {
          "type": "boolean",
          "title": "Enable automatic certificate renewal (default: true)"
        },
        "renewBeforeDays": {
          "type": "integer",
          "format": "int32",
          "title": "Renew certificates this many days before expiry (default: 30)"
        },
        "acceptTos": {
          "type": "boolean",
          "title": "Accept Let's Encrypt Terms of Service (required)"
        }
      },
      "description": "LetsEncryptConfig for automatic HTTPS with Let's Encrypt."
    },
    "v1ListAgentsResponse": {
      "type": "object",
      "properties": {
        "agents": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AgentInfo"
          },
          "title": "List of agents"
        },
        "nextPageToken": {
          "type": "string",
          "title": "Next page token"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count (without pagination)"
        }
      },
      "description": "ListAgentsResponse returns list of agents."
    },
    "v1ListArtifactsResponse": {
      "type": "object",
      "properties": {
        "artifacts": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Artifact"
          },
          "title": "List of artifacts matching the filter"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count of matching artifacts (ignoring limit/offset)"
        }
      },
      "description": "ListArtifactsResponse returns a list of artifacts."
    },
    "v1ListAvailableModelsResponse": {
      "type": "object",
      "properties": {
        "models": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ModelInfo"
          },
          "title": "Available models grouped by provider"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count"
        }
      },
      "description": "ListAvailableModelsResponse returns available models."
    },
    "v1ListMCPServerToolsResponse": {
      "type": "object",
      "properties": {
        "tools": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolDefinition"
          },
          "title": "List of tools from the MCP server"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count"
        },
        "serverName": {
          "type": "string",
          "title": "Server name"
        }
      },
      "description": "ListMCPServerToolsResponse returns tools from an MCP server."
    },
    "v1ListMCPServersResponse": {
      "type": "object",
      "properties": {
        "servers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1MCPServerInfo"
          },
          "title": "List of MCP servers"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count"
        }
      },
      "description": "ListMCPServersResponse returns MCP servers."
    },
    "v1ListPatternsResponse": {
      "type": "object",
      "properties": {
        "patterns": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Pattern"
          },
          "title": "Available patterns"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count"
        }
      },
      "description": "ListPatternsResponse returns patterns."
    },
    "v1ListScheduledWorkflowsResponse": {
      "type": "object",
      "properties": {
        "schedules": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ScheduledWorkflow"
          },
          "title": "Scheduled workflows"
        },
        "nextPageToken": {
          "type": "string",
          "title": "Next page token"
        }
      },
      "description": "ListScheduledWorkflowsResponse returns schedules."
    },
    "v1ListSessionsResponse": {
      "type": "object",
      "properties": {
        "sessions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Session"
          },
          "title": "Sessions"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count"
        }
      },
      "description": "ListSessionsResponse returns sessions."
    },
    "v1ListSharedMemoryKeysResponse": {
      "type": "object",
      "properties": {
        "keys": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Matching keys"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count (before any pagination, if implemented later)"
        }
      },
      "description": "ListSharedMemoryKeysResponse returns matching keys."
    },
    "v1ListToolsResponse": {
      "type": "object",
      "properties": {
        "tools": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolDefinition"
          },
          "title": "Registered tools"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count"
        }
      },
      "description": "ListToolsResponse returns tools."
    },
    "v1ListTopicsResponse": {
      "type": "object",
      "properties": {
        "topics": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "List of topic names"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total number of topics (before filtering)"
        }
      },
      "description": "ListTopicsResponse returns all matching topics."
    },
    "v1ListWorkflowExecutionsResponse": {
      "type": "object",
      "properties": {
        "executions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1WorkflowExecution"
          },
          "title": "Workflow executions"
        },
        "nextPageToken": {
          "type": "string",
          "title": "Next page token"
        },
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total count"
        }
      },
      "description": "ListWorkflowExecutionsResponse returns workflow executions."
    },
    "v1LoadPatternsRequest": {
      "type": "object",
      "properties": {
        "source": {
          "type": "string",
          "title": "Directory path or repository URL"
        },
        "domains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Domain filter (sql, api, document, etc.)"
        },
        "forceReload": {
          "type": "boolean",
          "title": "Force reload (clear cache)"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID to load patterns for (optional, loads for all agents if not specified)"
        }
      },
      "description": "LoadPatternsRequest loads patterns."
    },
    "v1LoadPatternsResponse": {
      "type": "object",
      "properties": {
        "patternsLoaded": {
          "type": "integer",
          "format": "int32",
          "title": "Number of patterns loaded"
        },
        "patternNames": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Pattern names"
        },
        "errors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Errors encountered (non-fatal)"
        }
      },
      "description": "LoadPatternsResponse confirms pattern loading."
    },
    "v1MCPServerHealth": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "title": "Health status (healthy, unhealthy, unknown)"
        },
        "lastCheckTimestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp of last health check (Unix seconds)"
        },
        "error": {
          "type": "string",
          "title": "Error message if unhealthy"
        },
        "latencyMs": {
          "type": "string",
          "format": "int64",
          "title": "Latency in milliseconds"
        }
      },
      "description": "MCPServerHealth tracks individual MCP server health."
    },
    "v1MCPServerInfo": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Server name"
        },
        "enabled": {
          "type": "boolean",
          "title": "Whether server is enabled"
        },
        "connected": {
          "type": "boolean",
          "title": "Whether server is currently connected"
        },
        "transport": {
          "type": "string",
          "title": "Transport type (stdio, http, sse)"
        },
        "command": {
          "type": "string",
          "title": "Command to execute"
        },
        "args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Command arguments"
        },
        "env": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Environment variables"
        },
        "status": {
          "type": "string",
          "title": "Server status (running, stopped, error, disabled)"
        },
        "error": {
          "type": "string",
          "title": "Error message if status is error"
        },
        "uptimeSeconds": {
          "type": "string",
          "format": "int64",
          "title": "Uptime in seconds"
        },
        "toolCount": {
          "type": "integer",
          "format": "int32",
          "title": "Number of tools exposed by this server"
        }
      },
      "description": "MCPServerInfo provides information about an MCP server."
    },
    "v1MCPToolConfig": {
      "type": "object",
      "properties": {
        "server": {
          "type": "string",
          "title": "MCP server name (must be configured in MCP manager)"
        },
        "tools": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Specific tool names to enable (empty = all tools from server)"
        }
      },
      "title": "MCPToolConfig specifies tools from an MCP server"
    },
    "v1ManualTLSConfig": {
      "type": "object",
      "properties": {
        "certFile": {
          "type": "string",
          "title": "Path to certificate file (PEM format)"
        },
        "keyFile": {
          "type": "string",
          "title": "Path to private key file (PEM format)"
        },
        "caFile": {
          "type": "string",
          "title": "Path to CA certificate for client verification (optional, for mTLS)"
        },
        "requireClientCert": {
          "type": "boolean",
          "title": "Require client certificates (mTLS)"
        }
      },
      "description": "ManualTLSConfig for manually provided certificates."
    },
    "v1MemoryCompressionBatchSizes": {
      "type": "object",
      "properties": {
        "normal": {
          "type": "integer",
          "format": "int32",
          "title": "Number of messages to compress in normal conditions (default: 3)"
        },
        "warning": {
          "type": "integer",
          "format": "int32",
          "title": "Number of messages to compress under warning threshold (default: 5)"
        },
        "critical": {
          "type": "integer",
          "format": "int32",
          "title": "Number of messages to compress under critical threshold (default: 7)"
        }
      },
      "title": "MemoryCompressionBatchSizes defines how many messages to compress in each batch"
    },
    "v1MemoryCompressionConfig": {
      "type": "object",
      "properties": {
        "workloadProfile": {
          "$ref": "#/definitions/v1WorkloadProfile",
          "title": "Workload profile (default: WORKLOAD_PROFILE_BALANCED)\nProvides preset values for thresholds and limits"
        },
        "maxL1Messages": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum messages in L1 cache before compression triggers (default: profile-dependent)\ndata_intensive=5, balanced=8, conversational=12"
        },
        "minL1Messages": {
          "type": "integer",
          "format": "int32",
          "title": "Minimum messages in L1 cache after compression (default: max_l1_messages / 2)\nEnsures L1 doesn't stay empty after aggressive compression"
        },
        "warningThresholdPercent": {
          "type": "integer",
          "format": "int32",
          "title": "Warning threshold as percentage (0-100) (default: profile-dependent)\ndata_intensive=50, balanced=60, conversational=70"
        },
        "criticalThresholdPercent": {
          "type": "integer",
          "format": "int32",
          "title": "Critical threshold as percentage (0-100) (default: profile-dependent)\ndata_intensive=70, balanced=75, conversational=85"
        },
        "batchSizes": {
          "$ref": "#/definitions/v1MemoryCompressionBatchSizes",
          "title": "Batch sizes for compression operations"
        }
      },
      "title": "MemoryCompressionConfig defines conversation history compression behavior"
    },
    "v1MemoryConfig": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "title": "Storage type: \"memory\" (in-memory), \"sqlite\", \"postgres\""
        },
        "path": {
          "type": "string",
          "title": "File path for file-based storage (sqlite)"
        },
        "dsn": {
          "type": "string",
          "title": "Database DSN for database storage (postgres)"
        },
        "maxHistory": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum conversation history to retain"
        },
        "memoryCompression": {
          "$ref": "#/definitions/v1MemoryCompressionConfig",
          "title": "Memory compression configuration (conversation history compression)"
        }
      },
      "title": "MemoryConfig defines agent memory and session storage"
    },
    "v1MergeStrategy": {
      "type": "string",
      "enum": [
        "MERGE_STRATEGY_UNSPECIFIED",
        "CONSENSUS",
        "VOTING",
        "CONCATENATE",
        "FIRST",
        "BEST",
        "SUMMARY"
      ],
      "default": "MERGE_STRATEGY_UNSPECIFIED",
      "description": "MergeStrategy defines how to combine multiple agent outputs.\n\n - CONSENSUS: Find consensus among outputs using LLM synthesis\n - VOTING: Vote on best answer using LLM judge\n - CONCATENATE: Concatenate all outputs\n - FIRST: Use first result\n - BEST: Use highest-scored result\n - SUMMARY: Summarize all outputs into concise form"
    },
    "v1Message": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Message ID"
        },
        "role": {
          "type": "string",
          "title": "Role (user, assistant, tool)"
        },
        "content": {
          "type": "string",
          "title": "Content"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp"
        },
        "toolCalls": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolCall"
          },
          "title": "Tool calls (if applicable)"
        },
        "cost": {
          "$ref": "#/definitions/v1CostInfo",
          "title": "Cost for this message"
        }
      },
      "description": "Message represents a conversation message."
    },
    "v1MessagePayload": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "format": "byte",
          "title": "Direct value (small payloads, control messages)"
        },
        "reference": {
          "$ref": "#/definitions/v1Reference",
          "title": "Reference to shared data (large payloads, shared state)"
        },
        "metadata": {
          "$ref": "#/definitions/v1PayloadMetadata",
          "title": "Payload metadata (size, content type, etc.)"
        }
      },
      "description": "MessagePayload contains either direct value or reference to data."
    },
    "v1ModelInfo": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Model identifier (e.g., \"claude-sonnet-4.5\", \"llama3\")"
        },
        "name": {
          "type": "string",
          "title": "Human-readable name"
        },
        "provider": {
          "type": "string",
          "title": "Provider (anthropic, bedrock, ollama, etc.)"
        },
        "capabilities": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Capabilities (text, vision, tool-use, etc.)"
        },
        "contextWindow": {
          "type": "integer",
          "format": "int32",
          "title": "Context window size"
        },
        "costPer1mInputUsd": {
          "type": "number",
          "format": "double",
          "title": "Cost per 1M input tokens (USD)"
        },
        "costPer1mOutputUsd": {
          "type": "number",
          "format": "double",
          "title": "Cost per 1M output tokens (USD)"
        },
        "available": {
          "type": "boolean",
          "title": "Whether model is currently available"
        }
      },
      "description": "ModelInfo provides information about an LLM model."
    },
    "v1NetworkConfig": {
      "type": "object",
      "properties": {
        "grpcAddress": {
          "type": "string",
          "title": "gRPC server bind address (default: \"0.0.0.0:50051\")"
        },
        "httpAddress": {
          "type": "string",
          "title": "HTTP gateway bind address (default: \"0.0.0.0:8080\")"
        },
        "httpEnabled": {
          "type": "boolean",
          "title": "Enable HTTP gateway (default: true)"
        },
        "reflectionEnabled": {
          "type": "boolean",
          "title": "Enable gRPC reflection (default: true in dev mode)"
        }
      },
      "description": "NetworkConfig defines network binding and ports."
    },
    "v1NewMessageUpdate": {
      "type": "object",
      "properties": {
        "role": {
          "type": "string",
          "title": "Message role (user, assistant, tool, system)"
        },
        "content": {
          "type": "string",
          "title": "Message content"
        },
        "messageTimestamp": {
          "type": "string",
          "format": "int64",
          "title": "Message timestamp (Unix timestamp in seconds)"
        },
        "toolName": {
          "type": "string",
          "title": "Optional: Tool name if this is a tool message"
        },
        "cost": {
          "$ref": "#/definitions/v1CostInfo",
          "title": "Optional: Cost information for LLM responses"
        }
      },
      "description": "NewMessageUpdate indicates a new message was added to the conversation."
    },
    "v1PairProgrammingPattern": {
      "type": "object",
      "properties": {
        "task": {
          "type": "string",
          "title": "Task description"
        },
        "driverAgentId": {
          "type": "string",
          "title": "Driver agent ID (writes code)"
        },
        "navigatorAgentId": {
          "type": "string",
          "title": "Navigator agent ID (reviews)"
        },
        "reviewCycles": {
          "type": "integer",
          "format": "int32",
          "title": "Number of review cycles"
        },
        "swapRoles": {
          "type": "boolean",
          "title": "Whether to swap roles between cycles"
        },
        "language": {
          "type": "string",
          "title": "Programming language context"
        },
        "qualityCriteria": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Optional: Code quality criteria for navigator"
        }
      },
      "description": "PairProgrammingPattern orchestrates driver/navigator collaboration.\nOne agent writes code while another reviews in real-time."
    },
    "v1PairProgrammingResult": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "title": "Final code output"
        },
        "cycles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ReviewCycle"
          },
          "title": "Review cycles performed"
        },
        "qualityScore": {
          "type": "number",
          "format": "float",
          "title": "Code quality score (0.0-1.0)"
        },
        "resolvedIssues": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Issues identified and resolved"
        },
        "remainingSuggestions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Remaining suggestions"
        }
      },
      "description": "PairProgrammingResult captures the collaborative coding output."
    },
    "v1ParallelPattern": {
      "type": "object",
      "properties": {
        "tasks": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AgentTask"
          },
          "title": "Independent tasks to execute"
        },
        "mergeStrategy": {
          "$ref": "#/definitions/v1MergeStrategy",
          "title": "Optional: How to combine results (if merging desired)"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Optional: Timeout for all tasks"
        }
      },
      "description": "ParallelPattern executes multiple independent agent tasks in parallel.\nUnlike fork-join, each task can have a different prompt."
    },
    "v1Pattern": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Pattern name"
        },
        "domain": {
          "type": "string",
          "title": "Domain (sql, api, document, etc.)"
        },
        "category": {
          "type": "string",
          "title": "Category (analytics, ml, crud, etc.)"
        },
        "description": {
          "type": "string",
          "title": "Human-readable description"
        },
        "parameters": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1PatternParameter"
          },
          "title": "Parameters required"
        },
        "examples": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1PatternExample"
          },
          "title": "Example usage"
        },
        "backendHints": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Backend hints"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Tags for search"
        }
      },
      "description": "Pattern represents a domain knowledge pattern."
    },
    "v1PatternConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Enable pattern injection (default: true for v1.0.0)\nWhen enabled, the orchestrator automatically selects and injects relevant patterns\ninto the LLM context based on user intent classification"
        },
        "minConfidence": {
          "type": "number",
          "format": "float",
          "title": "Minimum confidence threshold for pattern selection (0.0-1.0, default: 0.75)\nPatterns with confidence below this threshold will be skipped\nHigher values (0.8-0.9) reduce false positives but may miss relevant patterns\nLower values (0.5-0.7) increase recall but may inject irrelevant patterns"
        },
        "maxPatternsPerTurn": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum patterns to inject per turn (default: 1)\nHigher values provide more context but increase token usage\nRecommended: 1-2 patterns to balance context and cost"
        },
        "enableTracking": {
          "type": "boolean",
          "title": "Enable pattern effectiveness tracking (default: true)\nWhen enabled, records pattern usage metrics to learning database\nEnables continuous learning and adaptive pattern selection"
        },
        "useLlmClassifier": {
          "type": "boolean",
          "title": "Use LLM-based intent classification (default: true for v1.0.2+)\nWhen enabled, uses LLM to classify user intent for more accurate pattern selection\nTrade-off: Higher accuracy (~90-95%) but adds ~300ms latency and ~$0.0001 cost per turn\nSet to false for keyword-based classification (fast, no cost, but less accurate)"
        }
      },
      "title": "PatternConfig defines pattern-guided learning configuration\nPatterns provide domain-specific templates and best practices for common tasks"
    },
    "v1PatternExample": {
      "type": "object",
      "properties": {
        "input": {
          "type": "string",
          "title": "Example input"
        },
        "output": {
          "type": "string",
          "title": "Expected output"
        },
        "description": {
          "type": "string",
          "title": "Description"
        }
      },
      "description": "PatternExample shows pattern usage."
    },
    "v1PatternParameter": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Parameter name"
        },
        "type": {
          "type": "string",
          "title": "Type (string, int, bool, etc.)"
        },
        "required": {
          "type": "boolean",
          "title": "Whether required"
        },
        "defaultValue": {
          "type": "string",
          "title": "Default value"
        },
        "description": {
          "type": "string",
          "title": "Description"
        }
      },
      "description": "PatternParameter defines a pattern parameter."
    },
    "v1PatternUpdateEvent": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/v1PatternUpdateType",
          "title": "Event type"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID"
        },
        "patternName": {
          "type": "string",
          "title": "Pattern name"
        },
        "category": {
          "type": "string",
          "title": "Pattern category (optional)"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp (Unix milliseconds)"
        },
        "filePath": {
          "type": "string",
          "title": "File path (for created/modified patterns)"
        },
        "error": {
          "type": "string",
          "title": "Error message (if validation failed)"
        }
      },
      "description": "PatternUpdateEvent represents a pattern change event."
    },
    "v1PatternUpdateType": {
      "type": "string",
      "enum": [
        "PATTERN_UPDATE_TYPE_UNSPECIFIED",
        "PATTERN_CREATED",
        "PATTERN_MODIFIED",
        "PATTERN_DELETED",
        "PATTERN_VALIDATION_FAILED"
      ],
      "default": "PATTERN_UPDATE_TYPE_UNSPECIFIED",
      "description": "PatternUpdateType enum for pattern change events."
    },
    "v1PayloadMetadata": {
      "type": "object",
      "properties": {
        "sizeBytes": {
          "type": "string",
          "format": "int64",
          "title": "Size of actual data in bytes"
        },
        "contentType": {
          "type": "string",
          "title": "MIME content type (e.g., \"application/json\", \"text/plain\")"
        },
        "checksum": {
          "type": "string",
          "title": "Optional checksum for data integrity"
        },
        "compression": {
          "type": "string",
          "title": "Compression applied (if any): \"none\", \"gzip\", \"zstd\""
        },
        "encoding": {
          "type": "string",
          "title": "Encoding applied (if any): \"none\", \"base64\""
        }
      },
      "description": "PayloadMetadata provides information about the payload."
    },
    "v1PipelinePattern": {
      "type": "object",
      "properties": {
        "initialPrompt": {
          "type": "string",
          "title": "Initial prompt for the first stage"
        },
        "stages": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1PipelineStage"
          },
          "title": "Sequential stages"
        },
        "passFullHistory": {
          "type": "boolean",
          "title": "Whether to pass full history to each stage (default: false, only previous)"
        }
      },
      "description": "PipelinePattern executes agents sequentially where each agent's output\nbecomes input for the next agent."
    },
    "v1PipelineStage": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID for this stage"
        },
        "promptTemplate": {
          "type": "string",
          "title": "Prompt template (can include {{previous}} or {{history}} placeholders)"
        },
        "validationPrompt": {
          "type": "string",
          "title": "Optional: Validation function to check output before proceeding"
        }
      },
      "description": "PipelineStage represents a single stage in a pipeline."
    },
    "v1PolicyOverride": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/PolicyOverrideOverrideType"
        },
        "reason": {
          "type": "string",
          "title": "Reason for override (documentation)"
        }
      },
      "description": "PolicyOverride forces specific behavior for a message type."
    },
    "v1PublishRequest": {
      "type": "object",
      "properties": {
        "topic": {
          "type": "string",
          "title": "Topic to publish to (e.g., \"workflow.started\", \"agent.status\")"
        },
        "message": {
          "$ref": "#/definitions/v1BusMessage",
          "title": "Message to publish"
        }
      },
      "description": "PublishRequest publishes a message to a topic."
    },
    "v1PublishResponse": {
      "type": "object",
      "properties": {
        "messageId": {
          "type": "string",
          "title": "Message ID assigned by the bus"
        },
        "subscriberCount": {
          "type": "integer",
          "format": "int32",
          "title": "Number of subscribers that received the message"
        },
        "publishedAt": {
          "type": "string",
          "format": "int64",
          "title": "Publish timestamp (Unix milliseconds)"
        }
      },
      "description": "PublishResponse confirms message publication."
    },
    "v1PutSharedMemoryResponse": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "format": "int64",
          "title": "New version number after write"
        },
        "checksum": {
          "type": "string",
          "title": "Checksum of stored value"
        },
        "created": {
          "type": "boolean",
          "title": "True if value was created (false if updated)"
        },
        "sizeBytes": {
          "type": "string",
          "format": "int64",
          "title": "Size of stored value in bytes (after compression if enabled)"
        }
      },
      "description": "PutSharedMemoryResponse confirms the write operation."
    },
    "v1RateLimitInfo": {
      "type": "object",
      "properties": {
        "requestsPerMinute": {
          "type": "integer",
          "format": "int32"
        },
        "requestsPerHour": {
          "type": "integer",
          "format": "int32"
        },
        "notes": {
          "type": "string"
        }
      },
      "description": "RateLimitInfo describes rate limiting for a tool."
    },
    "v1Reference": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Unique reference identifier"
        },
        "type": {
          "$ref": "#/definitions/v1ReferenceType",
          "title": "Type of data being referenced"
        },
        "store": {
          "$ref": "#/definitions/v1ReferenceStore",
          "title": "Storage backend where data is stored"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "Reference creation timestamp (Unix seconds)"
        },
        "expiresAt": {
          "type": "string",
          "format": "int64",
          "title": "Reference expiry timestamp (Unix seconds, 0 = never expires)"
        }
      },
      "description": "Reference points to data stored in a ReferenceStore."
    },
    "v1ReferenceStore": {
      "type": "string",
      "enum": [
        "REFERENCE_STORE_UNSPECIFIED",
        "REFERENCE_STORE_MEMORY",
        "REFERENCE_STORE_SQLITE",
        "REFERENCE_STORE_REDIS"
      ],
      "default": "REFERENCE_STORE_UNSPECIFIED",
      "description": "ReferenceStore identifies the backend storage for references."
    },
    "v1ReferenceType": {
      "type": "string",
      "enum": [
        "REFERENCE_TYPE_UNSPECIFIED",
        "REFERENCE_TYPE_SESSION_STATE",
        "REFERENCE_TYPE_WORKFLOW_CONTEXT",
        "REFERENCE_TYPE_COLLABORATION_STATE",
        "REFERENCE_TYPE_LARGE_PAYLOAD",
        "REFERENCE_TYPE_PATTERN_DATA",
        "REFERENCE_TYPE_TOOL_RESULT",
        "REFERENCE_TYPE_OBSERVABILITY_TRACE"
      ],
      "default": "REFERENCE_TYPE_UNSPECIFIED",
      "description": "ReferenceType categorizes the kind of data stored in a reference."
    },
    "v1RegisterToolRequest": {
      "type": "object",
      "properties": {
        "tool": {
          "$ref": "#/definitions/v1ToolDefinition",
          "title": "Tool definition"
        }
      },
      "description": "RegisterToolRequest registers a tool."
    },
    "v1RegisterToolResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Success status"
        },
        "message": {
          "type": "string",
          "title": "Message"
        }
      },
      "description": "RegisterToolResponse confirms registration."
    },
    "v1RenewCertificateRequest": {
      "type": "object",
      "properties": {
        "force": {
          "type": "boolean",
          "title": "Force renewal even if not near expiry"
        }
      },
      "description": "RenewCertificateRequest manually triggers certificate renewal."
    },
    "v1RenewCertificateResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Whether renewal was successful"
        },
        "error": {
          "type": "string",
          "title": "Error message (if failed)"
        },
        "certificate": {
          "$ref": "#/definitions/v1CertificateInfo",
          "title": "New certificate information"
        }
      },
      "description": "RenewCertificateResponse confirms renewal."
    },
    "v1RenewalStatus": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Whether auto-renewal is enabled"
        },
        "lastAttemptAt": {
          "type": "string",
          "format": "int64",
          "title": "Last renewal attempt timestamp (Unix seconds)"
        },
        "lastAttemptSuccess": {
          "type": "boolean",
          "title": "Whether last renewal succeeded"
        },
        "nextRenewalAt": {
          "type": "string",
          "format": "int64",
          "title": "Next scheduled renewal timestamp (Unix seconds)"
        },
        "lastError": {
          "type": "string",
          "title": "Error message from last renewal attempt (if failed)"
        }
      },
      "description": "RenewalStatus reports automatic renewal status."
    },
    "v1RestartPolicy": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Whether to allow restarts at all (safety switch)"
        },
        "restartableStages": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Which stages can be restarted (empty = all stages can be restarted)"
        },
        "cooldownSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Cooldown period between restarts (seconds; default: 0)"
        },
        "resetSharedMemory": {
          "type": "boolean",
          "title": "Whether to reset shared memory on restart (default: false)"
        },
        "preserveOutputs": {
          "type": "boolean",
          "title": "Whether to preserve stage outputs from previous iteration (default: true)"
        },
        "maxValidationRetries": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum validation retries per stage with fresh agent context (default: 2)\nEach retry gets a fresh sessionID to reset conversation history"
        }
      },
      "description": "RestartPolicy defines rules for stage restart coordination."
    },
    "v1ReviewComment": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "title": "Comment type: \"issue\", \"suggestion\", \"praise\""
        },
        "location": {
          "type": "string",
          "title": "Line number or range"
        },
        "comment": {
          "type": "string",
          "title": "Comment text"
        },
        "severity": {
          "type": "string",
          "title": "Severity: \"critical\", \"major\", \"minor\", \"info\""
        },
        "resolved": {
          "type": "boolean",
          "title": "Whether addressed in this cycle"
        }
      },
      "description": "ReviewComment represents a single code review comment."
    },
    "v1ReviewCycle": {
      "type": "object",
      "properties": {
        "cycleNumber": {
          "type": "integer",
          "format": "int32",
          "title": "Cycle number (1-indexed)"
        },
        "driverAgentId": {
          "type": "string",
          "title": "Driver agent ID for this cycle"
        },
        "navigatorAgentId": {
          "type": "string",
          "title": "Navigator agent ID for this cycle"
        },
        "codeDiff": {
          "type": "string",
          "title": "Code produced by driver"
        },
        "comments": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ReviewComment"
          },
          "title": "Navigator's review comments"
        },
        "improvements": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Improvements made"
        }
      },
      "description": "ReviewCycle represents one iteration of driver/navigator collaboration."
    },
    "v1ScheduleConfig": {
      "type": "object",
      "properties": {
        "cron": {
          "type": "string",
          "title": "Cron expression (e.g., \"0 */6 * * *\" for every 6 hours)\nUses standard cron syntax: minute hour day month weekday"
        },
        "timezone": {
          "type": "string",
          "title": "Timezone for cron evaluation (e.g., \"America/New_York\", \"UTC\")\nDefault: \"UTC\""
        },
        "enabled": {
          "type": "boolean",
          "title": "Whether this schedule is enabled"
        },
        "skipIfRunning": {
          "type": "boolean",
          "title": "Skip execution if previous run is still active\nDefault: true"
        },
        "maxExecutionSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum execution time before considering workflow stuck (seconds)\nDefault: 3600 (1 hour)"
        },
        "variables": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Variables to pass to workflow execution"
        }
      },
      "description": "ScheduleConfig defines when a workflow should execute automatically.\nUsed in workflow YAML files under 'schedule:' section and in RPC calls."
    },
    "v1ScheduleExecution": {
      "type": "object",
      "properties": {
        "executionId": {
          "type": "string",
          "title": "Execution ID"
        },
        "startedAt": {
          "type": "string",
          "format": "int64",
          "title": "Started at timestamp (Unix seconds)"
        },
        "completedAt": {
          "type": "string",
          "format": "int64",
          "title": "Completed at timestamp (Unix seconds)"
        },
        "status": {
          "type": "string",
          "title": "Status: \"success\", \"failed\", \"skipped\""
        },
        "error": {
          "type": "string",
          "title": "Error message (if failed)"
        },
        "durationMs": {
          "type": "string",
          "format": "int64",
          "title": "Duration in milliseconds"
        }
      },
      "description": "ScheduleExecution represents a single execution of a scheduled workflow."
    },
    "v1ScheduleStats": {
      "type": "object",
      "properties": {
        "totalExecutions": {
          "type": "integer",
          "format": "int32",
          "title": "Total number of executions"
        },
        "successfulExecutions": {
          "type": "integer",
          "format": "int32",
          "title": "Number of successful executions"
        },
        "failedExecutions": {
          "type": "integer",
          "format": "int32",
          "title": "Number of failed executions"
        },
        "skippedExecutions": {
          "type": "integer",
          "format": "int32",
          "title": "Number of skipped executions (due to previous run still active)"
        },
        "lastStatus": {
          "type": "string",
          "title": "Last execution status: \"success\", \"failed\", \"skipped\""
        },
        "lastError": {
          "type": "string",
          "title": "Last error message (if failed)"
        }
      },
      "description": "ScheduleStats tracks execution statistics for a scheduled workflow."
    },
    "v1ScheduleWorkflowRequest": {
      "type": "object",
      "properties": {
        "workflowName": {
          "type": "string",
          "title": "Workflow name"
        },
        "pattern": {
          "$ref": "#/definitions/v1WorkflowPattern",
          "title": "Workflow pattern to execute"
        },
        "schedule": {
          "$ref": "#/definitions/v1ScheduleConfig",
          "title": "Schedule configuration"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Optional labels/metadata"
        }
      },
      "description": "ScheduleWorkflowRequest creates a new scheduled workflow."
    },
    "v1ScheduleWorkflowResponse": {
      "type": "object",
      "properties": {
        "scheduleId": {
          "type": "string",
          "title": "Schedule ID"
        },
        "schedule": {
          "$ref": "#/definitions/v1ScheduledWorkflow",
          "title": "Created schedule"
        }
      },
      "description": "ScheduleWorkflowResponse returns the created schedule."
    },
    "v1ScheduledWorkflow": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Unique schedule ID (generated from workflow name + hash)"
        },
        "workflowName": {
          "type": "string",
          "title": "Workflow name from metadata"
        },
        "yamlPath": {
          "type": "string",
          "title": "Path to workflow YAML file (empty for RPC-created schedules)"
        },
        "pattern": {
          "$ref": "#/definitions/v1WorkflowPattern",
          "title": "Workflow pattern to execute"
        },
        "schedule": {
          "$ref": "#/definitions/v1ScheduleConfig",
          "title": "Schedule configuration"
        },
        "lastExecutionAt": {
          "type": "string",
          "format": "int64",
          "title": "Last execution time (Unix seconds)"
        },
        "nextExecutionAt": {
          "type": "string",
          "format": "int64",
          "title": "Next scheduled execution time (Unix seconds)"
        },
        "currentExecutionId": {
          "type": "string",
          "title": "Current execution ID (if running)"
        },
        "stats": {
          "$ref": "#/definitions/v1ScheduleStats",
          "title": "Execution statistics"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "Created timestamp (Unix seconds)"
        },
        "updatedAt": {
          "type": "string",
          "format": "int64",
          "title": "Last updated timestamp (Unix seconds)"
        }
      },
      "description": "ScheduledWorkflow represents a workflow with automatic execution schedule.\nSchedules can be created via YAML files or RPC calls."
    },
    "v1SearchArtifactsResponse": {
      "type": "object",
      "properties": {
        "artifacts": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Artifact"
          },
          "title": "Matching artifacts (ranked by relevance)"
        }
      },
      "description": "SearchArtifactsResponse returns search results."
    },
    "v1SelfCorrectionAttempt": {
      "type": "object",
      "properties": {
        "originalError": {
          "type": "string",
          "title": "Error that triggered correction"
        },
        "strategy": {
          "type": "string",
          "title": "Correction strategy applied"
        },
        "success": {
          "type": "boolean",
          "title": "Whether correction succeeded"
        },
        "durationMs": {
          "type": "string",
          "format": "int64",
          "title": "Duration of correction (milliseconds)"
        },
        "cost": {
          "$ref": "#/definitions/v1LLMCost",
          "title": "Token cost of correction"
        }
      },
      "description": "SelfCorrectionAttempt records a self-correction event."
    },
    "v1SelfSignedConfig": {
      "type": "object",
      "properties": {
        "hostnames": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Hostnames to include in certificate (default: [\"localhost\"])"
        },
        "ipAddresses": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "IP addresses to include in certificate (default: [\"127.0.0.1\"])"
        },
        "validityDays": {
          "type": "integer",
          "format": "int32",
          "title": "Certificate validity duration in days (default: 365)"
        },
        "organization": {
          "type": "string",
          "title": "Organization name for certificate (optional)"
        }
      },
      "description": "SelfSignedConfig for development/testing with self-signed certificates."
    },
    "v1SendAndReceiveRequest": {
      "type": "object",
      "properties": {
        "toAgent": {
          "type": "string",
          "title": "Destination agent ID"
        },
        "fromAgent": {
          "type": "string",
          "title": "Source agent ID"
        },
        "messageType": {
          "type": "string",
          "title": "Message type for routing/filtering"
        },
        "payload": {
          "$ref": "#/definitions/v1MessagePayload",
          "title": "Message payload (value or reference, auto-promoted based on size)"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Optional metadata"
        },
        "policy": {
          "$ref": "#/definitions/v1CommunicationPolicy",
          "title": "Communication policy to apply"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Timeout in seconds (0 = no timeout)"
        }
      },
      "description": "SendAndReceiveRequest sends a message and waits for response (RPC-style)."
    },
    "v1SendAndReceiveResponse": {
      "type": "object",
      "properties": {
        "requestId": {
          "type": "string",
          "title": "Original request message ID"
        },
        "responseId": {
          "type": "string",
          "title": "Response message ID"
        },
        "payload": {
          "$ref": "#/definitions/v1MessagePayload",
          "title": "Response payload from destination agent"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Response metadata"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp when response was received (Unix milliseconds)"
        },
        "timedOut": {
          "type": "boolean",
          "title": "True if request timed out (no response within timeout_seconds)"
        }
      },
      "description": "SendAndReceiveResponse contains the response from the destination agent."
    },
    "v1SendAsyncRequest": {
      "type": "object",
      "properties": {
        "toAgent": {
          "type": "string",
          "title": "Destination agent ID"
        },
        "fromAgent": {
          "type": "string",
          "title": "Source agent ID"
        },
        "messageType": {
          "type": "string",
          "title": "Message type for routing/filtering"
        },
        "payload": {
          "$ref": "#/definitions/v1MessagePayload",
          "title": "Message payload (value or reference, auto-promoted based on size)"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Optional metadata"
        },
        "policy": {
          "$ref": "#/definitions/v1CommunicationPolicy",
          "title": "Communication policy to apply"
        }
      },
      "description": "SendAsyncRequest sends a message asynchronously (fire-and-forget)."
    },
    "v1SendAsyncResponse": {
      "type": "object",
      "properties": {
        "messageId": {
          "type": "string",
          "title": "Unique message ID for tracking"
        },
        "queued": {
          "type": "boolean",
          "title": "True if message was queued (destination agent offline)"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp when message was sent or queued (Unix milliseconds)"
        }
      },
      "description": "SendAsyncResponse confirms the async send operation."
    },
    "v1ServerBehavior": {
      "type": "object",
      "properties": {
        "maxConcurrentRequests": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum concurrent requests (default: 100)"
        },
        "requestTimeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Request timeout in seconds (default: 300)"
        },
        "gracefulShutdown": {
          "type": "boolean",
          "title": "Enable graceful shutdown (default: true)"
        },
        "shutdownTimeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Graceful shutdown timeout in seconds (default: 30)"
        },
        "corsEnabled": {
          "type": "boolean",
          "title": "Enable CORS for HTTP gateway (default: false)"
        },
        "corsAllowedOrigins": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "CORS allowed origins (empty = all)"
        }
      },
      "description": "ServerBehavior defines server behavior settings."
    },
    "v1ServerConfig": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Server name (for logging/metrics)"
        },
        "network": {
          "$ref": "#/definitions/v1NetworkConfig",
          "title": "Network configuration"
        },
        "tls": {
          "$ref": "#/definitions/v1TLSConfig",
          "title": "TLS configuration (optional, defaults to no TLS)"
        },
        "behavior": {
          "$ref": "#/definitions/v1ServerBehavior",
          "title": "Server behavior settings"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Metadata"
        }
      },
      "description": "ServerConfig defines the configuration for the looms multi-agent server."
    },
    "v1Session": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Session ID"
        },
        "name": {
          "type": "string",
          "title": "Session name"
        },
        "backend": {
          "type": "string",
          "title": "Backend type"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "Creation timestamp"
        },
        "updatedAt": {
          "type": "string",
          "format": "int64",
          "title": "Last activity timestamp"
        },
        "state": {
          "type": "string",
          "title": "Session state (active, idle, closed)"
        },
        "totalCostUsd": {
          "type": "number",
          "format": "double",
          "title": "Total cost so far"
        },
        "conversationCount": {
          "type": "integer",
          "format": "int32",
          "title": "Total number of messages (user, assistant, and tool messages)"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Metadata"
        }
      },
      "description": "Session represents a conversation session."
    },
    "v1SessionStatusUpdate": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "title": "New status (active, waiting, completed, failed)"
        },
        "message": {
          "type": "string",
          "title": "Optional status message"
        }
      },
      "description": "SessionStatusUpdate indicates session status changed."
    },
    "v1SessionUpdate": {
      "type": "object",
      "properties": {
        "sessionId": {
          "type": "string",
          "title": "Session ID"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID that produced this update"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp of the update (Unix timestamp in seconds)"
        },
        "newMessage": {
          "$ref": "#/definitions/v1NewMessageUpdate",
          "title": "New message added to conversation"
        },
        "statusChange": {
          "$ref": "#/definitions/v1SessionStatusUpdate",
          "title": "Session status changed"
        }
      },
      "description": "SessionUpdate represents a real-time update for a session.\nSent when new messages arrive or session state changes."
    },
    "v1SharedMemoryNamespace": {
      "type": "string",
      "enum": [
        "SHARED_MEMORY_NAMESPACE_UNSPECIFIED",
        "SHARED_MEMORY_NAMESPACE_GLOBAL",
        "SHARED_MEMORY_NAMESPACE_WORKFLOW",
        "SHARED_MEMORY_NAMESPACE_SWARM",
        "SHARED_MEMORY_NAMESPACE_DEBATE",
        "SHARED_MEMORY_NAMESPACE_SESSION",
        "SHARED_MEMORY_NAMESPACE_AGENT"
      ],
      "default": "SHARED_MEMORY_NAMESPACE_UNSPECIFIED",
      "description": "SharedMemoryNamespace defines isolated namespaces for shared memory.\nNamespaces provide logical isolation and access control boundaries.\n\n - SHARED_MEMORY_NAMESPACE_GLOBAL: Global namespace accessible to all agents\n - SHARED_MEMORY_NAMESPACE_WORKFLOW: Workflow-scoped namespace (isolated per workflow instance)\n - SHARED_MEMORY_NAMESPACE_SWARM: Swarm-scoped namespace (isolated per agent swarm)\n - SHARED_MEMORY_NAMESPACE_DEBATE: Debate-scoped namespace (isolated per debate session)\n - SHARED_MEMORY_NAMESPACE_SESSION: Session-scoped namespace (isolated per user session)\n - SHARED_MEMORY_NAMESPACE_AGENT: Agent-private namespace (isolated per agent instance)\nKeys are automatically scoped to the agent ID that writes them.\nThis provides strict isolation - agents cannot read each other's private data."
    },
    "v1SharedMemoryStats": {
      "type": "object",
      "properties": {
        "namespace": {
          "$ref": "#/definitions/v1SharedMemoryNamespace",
          "title": "Namespace these stats apply to"
        },
        "keyCount": {
          "type": "string",
          "format": "int64",
          "title": "Total number of keys in this namespace"
        },
        "totalBytes": {
          "type": "string",
          "format": "int64",
          "title": "Total bytes stored in this namespace"
        },
        "readCount": {
          "type": "string",
          "format": "int64",
          "title": "Total read operations performed"
        },
        "writeCount": {
          "type": "string",
          "format": "int64",
          "title": "Total write operations performed"
        },
        "conflictCount": {
          "type": "string",
          "format": "int64",
          "title": "Total version conflict count (failed optimistic concurrency checks)"
        },
        "watcherCount": {
          "type": "integer",
          "format": "int32",
          "title": "Number of active watchers for this namespace"
        },
        "lastAccessAt": {
          "type": "string",
          "format": "int64",
          "title": "Last access timestamp (Unix milliseconds)"
        }
      },
      "description": "SharedMemoryStats provides statistics for a namespace."
    },
    "v1SharedMemoryValue": {
      "type": "object",
      "properties": {
        "key": {
          "type": "string",
          "title": "Key identifying this value within the namespace"
        },
        "value": {
          "type": "string",
          "format": "byte",
          "title": "Actual value bytes (may be compressed)"
        },
        "version": {
          "type": "string",
          "format": "int64",
          "title": "Version number for optimistic concurrency (incremented on each write)"
        },
        "compressed": {
          "type": "boolean",
          "title": "True if value is compressed (zstd compression)"
        },
        "checksum": {
          "type": "string",
          "title": "Checksum for integrity verification (SHA-256)"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Arbitrary metadata (content type, encoding, custom fields)"
        },
        "createdBy": {
          "type": "string",
          "title": "Agent ID that created this value"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "Creation timestamp (Unix milliseconds)"
        },
        "updatedBy": {
          "type": "string",
          "title": "Agent ID that last updated this value"
        },
        "updatedAt": {
          "type": "string",
          "format": "int64",
          "title": "Last update timestamp (Unix milliseconds)"
        },
        "namespace": {
          "$ref": "#/definitions/v1SharedMemoryNamespace",
          "title": "Namespace this value belongs to"
        }
      },
      "description": "SharedMemoryValue represents a versioned value in shared memory.\nSupports optimistic concurrency control via version field."
    },
    "v1Span": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Span ID"
        },
        "parentId": {
          "type": "string",
          "title": "Parent span ID"
        },
        "name": {
          "type": "string",
          "title": "Span name"
        },
        "startTimeUs": {
          "type": "string",
          "format": "int64",
          "title": "Start timestamp (Unix microseconds)"
        },
        "endTimeUs": {
          "type": "string",
          "format": "int64",
          "title": "End timestamp (Unix microseconds)"
        },
        "durationUs": {
          "type": "string",
          "format": "int64",
          "title": "Duration (microseconds)"
        },
        "status": {
          "type": "string",
          "title": "Status (ok, error)"
        },
        "attributes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Attributes (key-value pairs)"
        },
        "events": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1SpanEvent"
          },
          "title": "Events within this span"
        }
      },
      "description": "Span represents a trace span."
    },
    "v1SpanEvent": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Event name"
        },
        "timestampUs": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp (Unix microseconds)"
        },
        "attributes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Attributes"
        }
      },
      "description": "SpanEvent represents an event within a span."
    },
    "v1SpawnTrigger": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/v1SpawnTriggerType",
          "title": "Trigger type"
        },
        "threshold": {
          "type": "number",
          "format": "float",
          "title": "Threshold value (interpretation depends on type)"
        },
        "condition": {
          "type": "string",
          "title": "Optional: Custom condition expression (for extensibility)"
        }
      },
      "title": "SpawnTrigger defines conditions for spawning ephemeral agents"
    },
    "v1SpawnTriggerType": {
      "type": "string",
      "enum": [
        "SPAWN_TRIGGER_TYPE_UNSPECIFIED",
        "CONSENSUS_NOT_REACHED",
        "CONFIDENCE_BELOW",
        "TIE_DETECTED",
        "ESCALATION_REQUESTED",
        "ALWAYS",
        "CUSTOM"
      ],
      "default": "SPAWN_TRIGGER_TYPE_UNSPECIFIED",
      "description": "- CONSENSUS_NOT_REACHED: Spawn when consensus is not reached in debate/swarm\n - CONFIDENCE_BELOW: Spawn when average confidence falls below threshold\n - TIE_DETECTED: Spawn when voting results in a tie\n - ESCALATION_REQUESTED: Spawn when agent explicitly requests escalation\n - ALWAYS: Spawn unconditionally (for testing)\n - CUSTOM: Custom condition evaluated at runtime",
      "title": "SpawnTriggerType enumerates trigger conditions"
    },
    "v1StepResult": {
      "type": "object",
      "properties": {
        "stepName": {
          "type": "string",
          "title": "Step name"
        },
        "iterations": {
          "type": "integer",
          "format": "int32",
          "title": "Iterations completed"
        },
        "masteryScore": {
          "type": "number",
          "format": "float",
          "title": "Mastery score (0.0-1.0)"
        },
        "questions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Questions asked by student"
        },
        "answers": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Answers provided by teacher"
        },
        "assessmentResult": {
          "type": "string",
          "title": "Assessment results"
        }
      },
      "description": "StepResult represents learning progress for one curriculum step."
    },
    "v1StorageLocation": {
      "type": "string",
      "enum": [
        "STORAGE_LOCATION_UNSPECIFIED",
        "STORAGE_LOCATION_MEMORY",
        "STORAGE_LOCATION_DISK",
        "STORAGE_LOCATION_DATABASE"
      ],
      "default": "STORAGE_LOCATION_UNSPECIFIED",
      "description": "StorageLocation indicates where data is stored.\n\n - STORAGE_LOCATION_MEMORY: In-memory shared storage\n - STORAGE_LOCATION_DISK: Disk overflow cache\n - STORAGE_LOCATION_DATABASE: Queryable SQL storage"
    },
    "v1SubscribeRequest": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID subscribing to the topic"
        },
        "topicPattern": {
          "type": "string",
          "title": "Topic pattern to subscribe to (supports wildcards: \"workflow.*\", \"agent.status\")"
        },
        "filter": {
          "$ref": "#/definitions/v1SubscriptionFilter",
          "title": "Optional filter to apply at subscriber level"
        },
        "bufferSize": {
          "type": "integer",
          "format": "int32",
          "title": "Buffer size for this subscription (default: 100 messages)"
        }
      },
      "description": "SubscribeRequest subscribes to a topic with optional filtering."
    },
    "v1SubscriptionFilter": {
      "type": "object",
      "properties": {
        "fromAgents": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Only receive messages from these agents (empty = receive from all agents)"
        },
        "minSize": {
          "type": "string",
          "format": "int64",
          "title": "Minimum message size in bytes (0 = no minimum)"
        },
        "maxSize": {
          "type": "string",
          "format": "int64",
          "title": "Maximum message size in bytes (0 = no maximum)"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Required metadata key/value pairs (all must match)"
        }
      },
      "description": "SubscriptionFilter filters messages at subscriber level.\nAll filter conditions are AND-ed together (all must match for delivery)."
    },
    "v1SwarmPattern": {
      "type": "object",
      "properties": {
        "question": {
          "type": "string",
          "title": "Question or decision to evaluate"
        },
        "agentIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Agent IDs participating in the swarm"
        },
        "strategy": {
          "$ref": "#/definitions/v1VotingStrategy",
          "title": "Voting strategy"
        },
        "confidenceThreshold": {
          "type": "number",
          "format": "float",
          "title": "Confidence threshold (0.0-1.0) for accepting decision"
        },
        "shareVotes": {
          "type": "boolean",
          "title": "Whether to share votes between agents during evaluation"
        },
        "judgeAgentId": {
          "type": "string",
          "title": "Optional: Judge agent to break ties"
        }
      },
      "description": "SwarmPattern orchestrates multiple agents to vote on decisions.\nAgents independently evaluate a question and vote, with configurable\nconsensus thresholds for decision-making."
    },
    "v1SwarmResult": {
      "type": "object",
      "properties": {
        "decision": {
          "type": "string",
          "title": "Winning choice"
        },
        "votes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1SwarmVote"
          },
          "title": "All votes cast"
        },
        "voteDistribution": {
          "type": "object",
          "additionalProperties": {
            "type": "integer",
            "format": "int32"
          },
          "title": "Vote distribution (choice -\u003e count)"
        },
        "averageConfidence": {
          "type": "number",
          "format": "float",
          "title": "Average confidence across all votes"
        },
        "thresholdMet": {
          "type": "boolean",
          "title": "Whether threshold was met"
        },
        "consensusAnalysis": {
          "type": "string",
          "title": "Consensus analysis"
        }
      },
      "description": "SwarmResult contains the aggregated swarm voting results."
    },
    "v1SwarmVote": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID"
        },
        "choice": {
          "type": "string",
          "title": "Vote choice"
        },
        "confidence": {
          "type": "number",
          "format": "float",
          "title": "Confidence score (0.0-1.0)"
        },
        "reasoning": {
          "type": "string",
          "title": "Reasoning for vote"
        },
        "alternatives": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Alternative choices considered (ranked)"
        }
      },
      "description": "SwarmVote represents a single agent's vote in swarm intelligence."
    },
    "v1SwitchModelResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Success status"
        },
        "previousModel": {
          "$ref": "#/definitions/v1ModelInfo",
          "title": "Previous model info"
        },
        "newModel": {
          "$ref": "#/definitions/v1ModelInfo",
          "title": "New model info"
        },
        "message": {
          "type": "string",
          "title": "Message"
        }
      },
      "description": "SwitchModelResponse confirms model switch."
    },
    "v1TLSConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Enable TLS (default: false)"
        },
        "mode": {
          "type": "string",
          "title": "TLS mode: \"manual\", \"letsencrypt\", \"self-signed\""
        },
        "manual": {
          "$ref": "#/definitions/v1ManualTLSConfig",
          "title": "Manual certificate configuration"
        },
        "letsencrypt": {
          "$ref": "#/definitions/v1LetsEncryptConfig",
          "title": "Let's Encrypt automatic certificate configuration"
        },
        "selfSigned": {
          "$ref": "#/definitions/v1SelfSignedConfig",
          "title": "Self-signed certificate configuration (dev mode)"
        }
      },
      "description": "TLSConfig defines TLS/HTTPS configuration.\nBy default, TLS is disabled. Enable it for production deployments."
    },
    "v1TLSStatus": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Whether TLS is enabled"
        },
        "mode": {
          "type": "string",
          "title": "TLS mode: \"manual\", \"letsencrypt\", \"self-signed\", \"none\""
        },
        "certificate": {
          "$ref": "#/definitions/v1CertificateInfo",
          "title": "Certificate information (if TLS enabled)"
        },
        "renewal": {
          "$ref": "#/definitions/v1RenewalStatus",
          "title": "Auto-renewal status (for Let's Encrypt)"
        }
      },
      "description": "TLSStatus reports the current TLS status of the server."
    },
    "v1TeacherStudentPattern": {
      "type": "object",
      "properties": {
        "objective": {
          "type": "string",
          "title": "Learning objective"
        },
        "teacherAgentId": {
          "type": "string",
          "title": "Teacher agent ID (expert)"
        },
        "studentAgentId": {
          "type": "string",
          "title": "Student agent ID (novice)"
        },
        "steps": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1CurriculumStep"
          },
          "title": "Curriculum steps to cover"
        },
        "iterationsPerStep": {
          "type": "integer",
          "format": "int32",
          "title": "Number of teaching iterations per step"
        },
        "assessment": {
          "$ref": "#/definitions/v1AssessmentStrategy",
          "title": "Assessment strategy"
        }
      },
      "description": "TeacherStudentPattern orchestrates expert-to-novice knowledge transfer.\nExpert agent teaches concepts while student learns and asks questions."
    },
    "v1TeacherStudentResult": {
      "type": "object",
      "properties": {
        "achievementScore": {
          "type": "number",
          "format": "float",
          "title": "Learning objective achievement (0.0-1.0)"
        },
        "steps": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1StepResult"
          },
          "title": "Steps completed"
        },
        "conceptsMastered": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Key concepts learned"
        },
        "improvementAreas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Areas needing improvement"
        },
        "teacherAssessment": {
          "type": "string",
          "title": "Teacher's final assessment"
        },
        "studentReflection": {
          "type": "string",
          "title": "Student's self-reflection"
        }
      },
      "description": "TeacherStudentResult captures the learning progress."
    },
    "v1TestMCPServerConnectionRequest": {
      "type": "object",
      "properties": {
        "transport": {
          "type": "string",
          "title": "Transport type (stdio, http, sse)"
        },
        "command": {
          "type": "string",
          "title": "Command to execute"
        },
        "args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Command arguments"
        },
        "env": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Environment variables"
        },
        "workingDir": {
          "type": "string",
          "title": "Working directory"
        },
        "toolFilter": {
          "$ref": "#/definitions/v1ToolFilterConfig",
          "title": "Tool filter configuration"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Timeout for connection test in seconds (default: 10)"
        },
        "url": {
          "type": "string",
          "title": "Server URL (required for http/sse transport)"
        },
        "enableSessions": {
          "type": "boolean",
          "title": "Enable session management (for streamable-http transport)"
        },
        "enableResumption": {
          "type": "boolean",
          "title": "Enable stream resumption (for streamable-http transport)"
        }
      },
      "description": "TestMCPServerConnectionRequest tests an MCP server configuration."
    },
    "v1TestMCPServerConnectionResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "Whether the connection test succeeded"
        },
        "message": {
          "type": "string",
          "title": "Status message"
        },
        "error": {
          "type": "string",
          "title": "Error details if failed"
        },
        "toolCount": {
          "type": "integer",
          "format": "int32",
          "title": "Number of tools discovered (if successful)"
        },
        "capabilities": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Server capabilities (if successful)"
        },
        "latencyMs": {
          "type": "string",
          "format": "int64",
          "title": "Connection latency in milliseconds"
        }
      },
      "description": "TestMCPServerConnectionResponse returns test results."
    },
    "v1ToolAlternative": {
      "type": "object",
      "properties": {
        "toolName": {
          "type": "string",
          "title": "Alternative tool name"
        },
        "when": {
          "type": "string",
          "title": "When to use the alternative instead"
        },
        "benefits": {
          "type": "string",
          "title": "Benefits of the alternative"
        }
      },
      "description": "ToolAlternative suggests an alternative tool for specific scenarios."
    },
    "v1ToolCall": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Tool name"
        },
        "argsJson": {
          "type": "string",
          "title": "Arguments (JSON)"
        },
        "resultJson": {
          "type": "string",
          "title": "Result (JSON)"
        },
        "durationMs": {
          "type": "string",
          "format": "int64",
          "title": "Duration (milliseconds)"
        },
        "success": {
          "type": "boolean",
          "title": "Success status"
        },
        "error": {
          "type": "string",
          "title": "Error message (if failed)"
        }
      },
      "description": "ToolCall represents a tool execution."
    },
    "v1ToolCommonError": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string",
          "title": "Error message or pattern"
        },
        "cause": {
          "type": "string",
          "title": "Cause of the error"
        },
        "solution": {
          "type": "string",
          "title": "Solution or workaround"
        }
      },
      "description": "ToolCommonError documents a common error and its solution."
    },
    "v1ToolComplement": {
      "type": "object",
      "properties": {
        "toolName": {
          "type": "string",
          "title": "Complementary tool name"
        },
        "scenario": {
          "type": "string",
          "title": "Scenario where they work together"
        },
        "example": {
          "type": "string",
          "title": "Example of combined usage"
        }
      },
      "description": "ToolComplement describes a tool that works well with this one."
    },
    "v1ToolConflict": {
      "type": "object",
      "properties": {
        "toolName": {
          "type": "string",
          "title": "Conflicting tool name (can be \"tool_name\" or \"mcp:server_name\")"
        },
        "reason": {
          "type": "string",
          "title": "Reason for the conflict"
        },
        "whenPreferThis": {
          "type": "string",
          "title": "When to prefer this tool over the other"
        },
        "whenPreferOther": {
          "type": "string",
          "title": "When to prefer the other tool"
        },
        "severity": {
          "type": "string",
          "title": "Severity of the conflict (\"high\", \"medium\", \"low\")"
        }
      },
      "description": "ToolConflict describes a conflict with another tool."
    },
    "v1ToolDefinition": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Tool name"
        },
        "description": {
          "type": "string",
          "title": "Description"
        },
        "inputSchemaJson": {
          "type": "string",
          "title": "Input schema (JSON Schema)"
        },
        "backends": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Backend compatibility"
        },
        "outputSchemaJson": {
          "type": "string",
          "title": "Output schema (JSON Schema) - describes what the tool returns"
        },
        "capabilities": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Semantic capabilities (e.g., \"search\", \"http\", \"rest_api\", \"file\")"
        },
        "keywords": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Additional search keywords"
        },
        "useCases": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolUseCase"
          },
          "title": "Use case examples"
        },
        "conflicts": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolConflict"
          },
          "title": "Tool conflicts (tools that shouldn't be used together)"
        },
        "alternatives": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolAlternative"
          },
          "title": "Alternative tools for specific scenarios"
        },
        "examples": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolExample"
          },
          "title": "Worked examples with input/output pairs (reuses ToolExample from tools.proto)"
        },
        "prerequisites": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolPrerequisite"
          },
          "title": "Prerequisites and requirements"
        },
        "rateLimit": {
          "$ref": "#/definitions/v1RateLimitInfo",
          "title": "Rate limiting information (reuses RateLimitInfo from tools.proto)"
        },
        "commonErrors": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolCommonError"
          },
          "title": "Common errors and solutions"
        },
        "bestPractices": {
          "type": "string",
          "title": "Best practices documentation"
        },
        "category": {
          "type": "string",
          "title": "Tool category (e.g., \"web\", \"file\", \"rest_api\", \"vision\")"
        },
        "complements": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1ToolComplement"
          },
          "title": "Complementary tools that work well together"
        },
        "providers": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Providers (for multi-provider tools like web_search)"
        }
      },
      "description": "ToolDefinition defines a tool with comprehensive metadata.\nExtended to support self-describing tools for LLM-driven selection."
    },
    "v1ToolExample": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string",
          "description": "Natural language description of the use case."
        },
        "input": {
          "type": "string",
          "description": "Example input (JSON)."
        },
        "output": {
          "type": "string",
          "description": "Example output (JSON)."
        }
      },
      "description": "ToolExample shows how to use a tool."
    },
    "v1ToolFilterConfig": {
      "type": "object",
      "properties": {
        "all": {
          "type": "boolean",
          "title": "Register all tools"
        },
        "include": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Include only these tools"
        },
        "exclude": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Exclude these tools"
        }
      },
      "description": "ToolFilterConfig configures which tools to register from an MCP server."
    },
    "v1ToolPermissionRequest": {
      "type": "object",
      "properties": {
        "sessionId": {
          "type": "string",
          "title": "Session ID"
        },
        "toolName": {
          "type": "string",
          "title": "Tool name"
        },
        "argsJson": {
          "type": "string",
          "title": "Tool arguments (JSON)"
        },
        "description": {
          "type": "string",
          "title": "Tool description"
        },
        "riskLevel": {
          "type": "string",
          "title": "Risk level (low, medium, high)"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Timeout for user response (seconds, default: 300)"
        }
      },
      "description": "ToolPermissionRequest requests permission to execute a tool."
    },
    "v1ToolPermissionResponse": {
      "type": "object",
      "properties": {
        "granted": {
          "type": "boolean",
          "title": "Whether permission was granted"
        },
        "message": {
          "type": "string",
          "title": "User's response message (if any)"
        },
        "rememberDecision": {
          "type": "boolean",
          "title": "Whether to remember this decision"
        },
        "timedOut": {
          "type": "boolean",
          "title": "Whether request timed out"
        }
      },
      "description": "ToolPermissionResponse contains user's permission decision."
    },
    "v1ToolPrerequisite": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Prerequisite name (e.g., \"API Key\", \"File Permissions\")"
        },
        "requiredFor": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Which providers/modes require this (e.g., [\"tavily\", \"brave\"])"
        },
        "envVars": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Environment variables for this prerequisite"
        },
        "howToGet": {
          "type": "string",
          "title": "How to obtain this prerequisite"
        },
        "fallback": {
          "type": "string",
          "title": "Fallback if prerequisite unavailable"
        }
      },
      "description": "ToolPrerequisite describes a requirement for using the tool."
    },
    "v1ToolUseCase": {
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "title": "Use case title"
        },
        "whenToUse": {
          "type": "string",
          "title": "When to use this tool"
        },
        "example": {
          "type": "string",
          "title": "Example query or scenario"
        },
        "notFor": {
          "type": "string",
          "title": "When NOT to use (clarifies boundaries)"
        }
      },
      "description": "ToolUseCase describes a specific use case for a tool."
    },
    "v1ToolsConfig": {
      "type": "object",
      "properties": {
        "mcp": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1MCPToolConfig"
          },
          "title": "MCP (Model Context Protocol) tools from servers"
        },
        "custom": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1CustomToolConfig"
          },
          "title": "Custom tool implementations"
        },
        "builtin": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Built-in tools (e.g., \"web_search\", \"calculator\")"
        }
      },
      "title": "ToolsConfig defines tools available to the agent"
    },
    "v1TopicStats": {
      "type": "object",
      "properties": {
        "topic": {
          "type": "string",
          "title": "Topic name"
        },
        "totalPublished": {
          "type": "string",
          "format": "int64",
          "title": "Total messages ever published to this topic"
        },
        "totalDelivered": {
          "type": "string",
          "format": "int64",
          "title": "Total messages successfully delivered to subscribers"
        },
        "totalDropped": {
          "type": "string",
          "format": "int64",
          "title": "Total messages dropped due to full subscriber buffers"
        },
        "activeSubscribers": {
          "type": "integer",
          "format": "int32",
          "title": "Number of active subscribers currently listening to this topic"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "Topic creation timestamp (Unix milliseconds)"
        },
        "lastPublishAt": {
          "type": "string",
          "format": "int64",
          "title": "Last publish timestamp (Unix milliseconds, 0 if never published)"
        }
      },
      "description": "TopicStats provides statistics and metrics for a topic."
    },
    "v1Trace": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Trace ID"
        },
        "sessionId": {
          "type": "string",
          "title": "Session ID"
        },
        "rootSpan": {
          "$ref": "#/definitions/v1Span",
          "title": "Root span"
        },
        "spans": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Span"
          },
          "title": "All spans (flat list)"
        },
        "totalDurationMs": {
          "type": "string",
          "format": "int64",
          "title": "Total duration (milliseconds)"
        },
        "totalCost": {
          "$ref": "#/definitions/v1CostInfo",
          "title": "Total cost"
        }
      },
      "description": "Trace contains execution trace for observability."
    },
    "v1UnsubscribeRequest": {
      "type": "object",
      "properties": {
        "agentId": {
          "type": "string",
          "title": "Agent ID unsubscribing"
        },
        "subscriptionId": {
          "type": "string",
          "title": "Subscription ID to cancel (returned from Subscribe)"
        }
      },
      "description": "UnsubscribeRequest cancels a subscription."
    },
    "v1UnsubscribeResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "True if subscription was found and cancelled"
        },
        "messagesDiscarded": {
          "type": "integer",
          "format": "int32",
          "title": "Number of queued messages discarded"
        }
      },
      "description": "UnsubscribeResponse confirms unsubscription."
    },
    "v1UploadArtifactRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Filename"
        },
        "content": {
          "type": "string",
          "format": "byte",
          "title": "File content (bytes)"
        },
        "source": {
          "type": "string",
          "title": "Source: \"user\", \"generated\", or \"agent\""
        },
        "sourceAgentId": {
          "type": "string",
          "title": "Agent ID if generated by an agent (optional)"
        },
        "purpose": {
          "type": "string",
          "title": "Human-readable purpose/description (optional)"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Tags for categorization (optional)"
        }
      },
      "description": "UploadArtifactRequest uploads a file to artifacts storage."
    },
    "v1UploadArtifactResponse": {
      "type": "object",
      "properties": {
        "artifact": {
          "$ref": "#/definitions/v1Artifact",
          "title": "Created artifact metadata"
        }
      },
      "description": "UploadArtifactResponse returns the created artifact metadata."
    },
    "v1VotingStrategy": {
      "type": "string",
      "enum": [
        "VOTING_STRATEGY_UNSPECIFIED",
        "MAJORITY",
        "SUPERMAJORITY",
        "UNANIMOUS",
        "WEIGHTED",
        "RANKED_CHOICE"
      ],
      "default": "VOTING_STRATEGY_UNSPECIFIED",
      "description": "VotingStrategy defines how swarm votes are aggregated.\n\n - MAJORITY: Simple majority (\u003e50%)\n - SUPERMAJORITY: Supermajority (\u003e=2/3)\n - UNANIMOUS: Unanimous agreement (100%)\n - WEIGHTED: Weighted by agent confidence scores\n - RANKED_CHOICE: Ranked choice voting"
    },
    "v1WatchSharedMemoryRequest": {
      "type": "object",
      "properties": {
        "namespace": {
          "$ref": "#/definitions/v1SharedMemoryNamespace",
          "title": "Namespace to watch"
        },
        "keyPattern": {
          "type": "string",
          "title": "Key pattern to watch (supports wildcards: \"config.*\", \"session.user.*\")"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID watching"
        },
        "includeInitial": {
          "type": "boolean",
          "title": "Include initial values (send current values immediately, then watch for changes)"
        }
      },
      "description": "WatchSharedMemoryRequest watches for changes to keys in a namespace.\nReturns a stream of SharedMemoryValue as keys are created/updated/deleted."
    },
    "v1WeaveProgress": {
      "type": "object",
      "properties": {
        "stage": {
          "$ref": "#/definitions/v1ExecutionStage",
          "title": "Current stage"
        },
        "progress": {
          "type": "integer",
          "format": "int32",
          "title": "Progress percentage (0-100)"
        },
        "message": {
          "type": "string",
          "title": "Current operation description"
        },
        "toolName": {
          "type": "string",
          "title": "Tool being executed (if applicable)"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp"
        },
        "partialResult": {
          "$ref": "#/definitions/v1ExecutionResult",
          "title": "Partial result (available at certain stages)"
        },
        "hitlRequest": {
          "$ref": "#/definitions/v1HITLRequestInfo",
          "title": "HITL request info (only when stage == EXECUTION_STAGE_HUMAN_IN_THE_LOOP)"
        },
        "partialContent": {
          "type": "string",
          "title": "Token streaming fields\nAccumulated content so far (for streaming responses)"
        },
        "isTokenStream": {
          "type": "boolean",
          "title": "True if this is a token streaming update"
        },
        "tokenCount": {
          "type": "integer",
          "format": "int32",
          "title": "Running token count (for streaming responses)"
        },
        "ttftMs": {
          "type": "string",
          "format": "int64",
          "title": "Time to first token in milliseconds (for streaming responses)"
        },
        "cost": {
          "$ref": "#/definitions/v1CostInfo",
          "title": "Cost information (included in completion event)"
        }
      },
      "description": "WeaveProgress streams incremental updates during execution."
    },
    "v1WeaveRequest": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "title": "User's natural language query"
        },
        "sessionId": {
          "type": "string",
          "title": "Session ID for conversation continuity (optional)"
        },
        "backendConfig": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Backend configuration overrides (optional)"
        },
        "maxRounds": {
          "type": "integer",
          "format": "int32",
          "title": "Maximum execution rounds (default: 3)"
        },
        "timeoutSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Timeout in seconds (default: 300)"
        },
        "context": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Context variables for prompt interpolation"
        },
        "forcePattern": {
          "type": "string",
          "title": "Force specific pattern (bypass pattern selection)"
        },
        "enableTrace": {
          "type": "boolean",
          "title": "Enable tracing for this request"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID to route request to (optional, uses default if not specified)"
        }
      },
      "description": "WeaveRequest initiates a query execution."
    },
    "v1WeaveResponse": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string",
          "title": "Generated response text"
        },
        "result": {
          "$ref": "#/definitions/v1ExecutionResult",
          "title": "Execution result (domain-specific)"
        },
        "sessionId": {
          "type": "string",
          "title": "Session ID used"
        },
        "traceId": {
          "type": "string",
          "title": "Trace ID for observability"
        },
        "cost": {
          "$ref": "#/definitions/v1CostInfo",
          "title": "Cost attribution"
        },
        "metadata": {
          "$ref": "#/definitions/v1ExecutionMetadata",
          "title": "Execution metadata"
        },
        "corrections": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1SelfCorrectionAttempt"
          },
          "title": "Self-correction attempts (if any)"
        },
        "agentId": {
          "type": "string",
          "title": "Agent ID that handled this request"
        }
      },
      "description": "WeaveResponse contains the execution result."
    },
    "v1WorkflowCost": {
      "type": "object",
      "properties": {
        "totalCostUsd": {
          "type": "number",
          "format": "double",
          "title": "Total cost across all agents (USD)"
        },
        "agentCostsUsd": {
          "type": "object",
          "additionalProperties": {
            "type": "number",
            "format": "double"
          },
          "title": "Per-agent cost breakdown"
        },
        "totalTokens": {
          "type": "integer",
          "format": "int32",
          "title": "Total tokens used across all agents"
        },
        "llmCalls": {
          "type": "integer",
          "format": "int32",
          "title": "Number of LLM calls made"
        }
      },
      "description": "WorkflowCost tracks costs across all agents in a workflow."
    },
    "v1WorkflowExecution": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "Unique execution ID"
        },
        "pattern": {
          "$ref": "#/definitions/v1WorkflowPattern",
          "title": "Workflow pattern executed"
        },
        "status": {
          "type": "string",
          "title": "Execution status: \"pending\", \"running\", \"completed\", \"failed\""
        },
        "result": {
          "$ref": "#/definitions/v1WorkflowResult",
          "title": "Result (populated when completed)"
        },
        "startedAt": {
          "type": "string",
          "format": "int64",
          "title": "Start timestamp (Unix seconds)"
        },
        "completedAt": {
          "type": "string",
          "format": "int64",
          "title": "Completion timestamp (Unix seconds)"
        },
        "error": {
          "type": "string",
          "title": "Error message (if failed)"
        }
      },
      "description": "WorkflowExecution tracks a workflow execution instance."
    },
    "v1WorkflowPattern": {
      "type": "object",
      "properties": {
        "debate": {
          "$ref": "#/definitions/v1DebatePattern"
        },
        "forkJoin": {
          "$ref": "#/definitions/v1ForkJoinPattern"
        },
        "pipeline": {
          "$ref": "#/definitions/v1PipelinePattern"
        },
        "parallel": {
          "$ref": "#/definitions/v1ParallelPattern"
        },
        "conditional": {
          "$ref": "#/definitions/v1ConditionalPattern"
        },
        "swarm": {
          "$ref": "#/definitions/v1SwarmPattern"
        },
        "pairProgramming": {
          "$ref": "#/definitions/v1PairProgrammingPattern"
        },
        "teacherStudent": {
          "$ref": "#/definitions/v1TeacherStudentPattern"
        },
        "iterative": {
          "$ref": "#/definitions/v1IterativeWorkflowPattern"
        }
      },
      "description": "WorkflowPattern defines orchestration patterns for multi-agent coordination.\nThis message uses a oneof to represent different workflow patterns,\nenabling type-safe pattern selection and composition."
    },
    "v1WorkflowProgress": {
      "type": "object",
      "properties": {
        "executionId": {
          "type": "string",
          "title": "Execution ID"
        },
        "patternType": {
          "type": "string",
          "title": "Current pattern being executed"
        },
        "currentAgentId": {
          "type": "string",
          "title": "Current agent executing (if applicable)"
        },
        "progress": {
          "type": "integer",
          "format": "int32",
          "title": "Progress percentage (0-100)"
        },
        "message": {
          "type": "string",
          "title": "Current operation description"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp"
        },
        "partialResults": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AgentResult"
          },
          "title": "Partial results (available at certain stages)"
        }
      },
      "description": "WorkflowProgress streams workflow execution progress."
    },
    "v1WorkflowResult": {
      "type": "object",
      "properties": {
        "patternType": {
          "type": "string",
          "title": "Pattern type executed"
        },
        "agentResults": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1AgentResult"
          },
          "title": "Individual agent results"
        },
        "mergedOutput": {
          "type": "string",
          "title": "Merged output from all agents"
        },
        "metadata": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Execution metadata"
        },
        "durationMs": {
          "type": "string",
          "format": "int64",
          "title": "Total execution duration (milliseconds)"
        },
        "traceId": {
          "type": "string",
          "title": "Trace ID for observability"
        },
        "cost": {
          "$ref": "#/definitions/v1WorkflowCost",
          "title": "Cost information"
        },
        "debateResult": {
          "$ref": "#/definitions/v1DebateResult"
        },
        "swarmResult": {
          "$ref": "#/definitions/v1SwarmResult"
        },
        "pairProgrammingResult": {
          "$ref": "#/definitions/v1PairProgrammingResult"
        },
        "teacherStudentResult": {
          "$ref": "#/definitions/v1TeacherStudentResult"
        },
        "metrics": {
          "$ref": "#/definitions/v1CollaborationMetrics",
          "title": "Collaboration quality metrics"
        },
        "modelsUsed": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "title": "Models used by each agent (agent_id -\u003e model name)"
        }
      },
      "description": "WorkflowResult contains the execution results from a workflow pattern."
    },
    "v1WorkloadProfile": {
      "type": "string",
      "enum": [
        "WORKLOAD_PROFILE_UNSPECIFIED",
        "WORKLOAD_PROFILE_BALANCED",
        "WORKLOAD_PROFILE_DATA_INTENSIVE",
        "WORKLOAD_PROFILE_CONVERSATIONAL"
      ],
      "default": "WORKLOAD_PROFILE_UNSPECIFIED",
      "description": "- WORKLOAD_PROFILE_BALANCED: Balanced profile (default): maxL1=8, warning=60%, critical=75%\nSuitable for general-purpose agents with mixed workloads\n - WORKLOAD_PROFILE_DATA_INTENSIVE: Data-intensive profile: maxL1=5, warning=50%, critical=70%\nOptimized for agents handling large tool outputs (SQL, file operations)\n - WORKLOAD_PROFILE_CONVERSATIONAL: Conversational profile: maxL1=12, warning=70%, critical=85%\nOptimized for chat-heavy agents with minimal tool usage",
      "title": "WorkloadProfile defines memory compression behavior profiles for different use cases"
    }
  }
}

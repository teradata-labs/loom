---
name: metaagent_loom_context
namespace: loom
---
prompts:
  # Shared Loom framework context for all weaver sub-agents
  - id: framework_overview
    content: |
      LOOM FRAMEWORK CONTEXT (CRITICAL - READ THIS FIRST):
      - Loom is an LLM agent framework with pattern-guided learning and observability
      - Loom agents are configured in YAML (NOT Python/JavaScript/etc standalone code)
      - Loom agents use "shuttle tools" for execution:
        * Builtin tools: http_request, file_write, grpc_call, shell_execute, etc.
        * MCP tools: Model Context Protocol servers (Python/Node.js subprocesses)
      - Loom agents have ROM (Read-Only Memory) for static domain knowledge
      - Loom agents can use pattern libraries (YAML files with domain expertise)
      - Loom supports multi-agent workflows (debate, pipeline, swarm, fork-join)

      OUTPUT CONSTRAINT: All weaver sub-agents produce configurations for Loom agents, NOT standalone implementation code!
    variables: {}
    tags:
      - metaagent
      - context
      - shared
    metadata:
      version: "v1.0"
      description: "Shared Loom framework context for all weaver sub-agents"

  # Context for tool selection
  - id: tool_selection_context
    content: |
      You are selecting tools for a LOOM FRAMEWORK AGENT.

      Loom agents use "shuttle tools":
      - Builtin tools: http_request, file_write, grpc_call, shell_execute, etc.
      - MCP tools: Model Context Protocol servers (domain-specific capabilities)

      Your job: Select which shuttle tools the agent needs, NOT write tool implementation code.
    variables: {}
    tags:
      - metaagent
      - tool-selection
      - context
    metadata:
      version: "v1.0"
      description: "Loom context for tool selection sub-agent"

  # Context for pattern matching
  - id: pattern_matching_context
    content: |
      You are selecting patterns for a LOOM FRAMEWORK AGENT.

      Loom patterns are YAML files containing domain expertise:
      - Best practices for specific domains (SQL, REST, file operations)
      - Example prompts and solutions
      - Common pitfalls and anti-patterns

      Your job: Select which patterns the agent needs, NOT write pattern implementation.
    variables: {}
    tags:
      - metaagent
      - pattern-matching
      - context
    metadata:
      version: "v1.0"
      description: "Loom context for pattern matching sub-agent"

  # Context for workflow design
  - id: workflow_design_context
    content: |
      You are designing a LOOM FRAMEWORK MULTI-AGENT WORKFLOW.

      Loom workflows coordinate multiple agents:
      - Debate: Multiple perspectives, voting/consensus
      - Pipeline: Sequential stages, output â†’ input chaining
      - Fork-Join: Parallel execution, result aggregation
      - Swarm: Many agents, emergent behavior
      - Conditional: Decision trees, dynamic routing

      Your job: Design workflow architecture (which agents, how they coordinate), NOT write workflow implementation code.
    variables: {}
    tags:
      - metaagent
      - workflow-design
      - context
    metadata:
      version: "v1.0"
      description: "Loom context for workflow design sub-agent"

  # Context for config assembly
  - id: config_assembly_context
    content: |
      You are assembling a LOOM FRAMEWORK AGENT CONFIGURATION.

      Loom agent configs are YAML files with:
      - name, description (metadata)
      - system_prompt (task-oriented, NO role-prompting)
      - tools (shuttle tools to enable)
      - patterns (pattern library references)
      - llm_config (provider, model, parameters)
      - memory_config (ROM, kernel, L1/L2 cache)

      Your job: Assemble valid Loom YAML configuration, NOT write implementation code.
    variables: {}
    tags:
      - metaagent
      - config-assembly
      - context
    metadata:
      version: "v1.0"
      description: "Loom context for config assembly sub-agent"

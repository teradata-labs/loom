# Test workflow using agent path references
apiVersion: loom/v1
kind: Workflow
metadata:
  name: path-reference-test
  description: Test workflow that loads agents from path references
  labels:
    test: "true"

spec:
  type: pipeline
  initial_prompt: "Test workflow with path references"
  stages:
    - agent_id: test-agent-1
      prompt_template: "Stage 1: {{input}}"
    - agent_id: test-agent-2
      prompt_template: "Stage 2: {{input}}"
  agents:
    - id: test-agent-1
      path: test-agent-1.yaml
      # Agent name and system_prompt will be loaded from the file

    - id: test-agent-2
      path: test-agent-2.yaml
      role: reviewer
      # Can override role even when using path

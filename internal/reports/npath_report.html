<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Journey Analysis Report | nPath Insights</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0d0d0d;
            --bg-card: rgba(26,26,26,0.8);
            --accent: #f37021;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --text-primary: #f5f5f5;
            --text-secondary: #a3a3a3;
            --border: rgba(255,255,255,0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 24px;
        }
        
        header {
            text-align: center;
            margin-bottom: 48px;
            padding-bottom: 32px;
            border-bottom: 1px solid var(--border);
        }
        
        h1 {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(135deg, var(--accent), #ff9a5c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }
        
        h2 {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 24px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        h2::before {
            content: '';
            width: 4px;
            height: 24px;
            background: var(--accent);
            border-radius: 2px;
        }
        
        h3 {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 16px;
            color: var(--accent);
        }
        
        .card {
            background: var(--bg-card);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            border: 1px solid var(--border);
            padding: 28px;
            margin-bottom: 24px;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .metric-card {
            background: var(--bg-card);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            border: 1px solid var(--border);
            padding: 24px;
            text-align: center;
        }
        
        .metric-value {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 8px;
        }
        
        .metric-value.success {
            color: var(--success);
        }
        
        .metric-value.warning {
            color: var(--warning);
        }
        
        .metric-value.danger {
            color: var(--danger);
        }
        
        .metric-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .insight-box {
            background: rgba(243, 112, 33, 0.1);
            border-left: 4px solid var(--accent);
            padding: 16px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .insight-box p {
            color: var(--text-primary);
            margin: 0;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }
        
        .data-table th,
        .data-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        .data-table th {
            font-family: 'IBM Plex Mono', monospace;
            font-weight: 500;
            color: var(--accent);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .data-table td {
            color: var(--text-primary);
        }
        
        .data-table tr:hover {
            background: rgba(243, 112, 33, 0.05);
        }
        
        .progress-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            height: 8px;
            overflow: hidden;
            margin-top: 8px;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .progress-fill.accent { background: var(--accent); }
        .progress-fill.success { background: var(--success); }
        .progress-fill.warning { background: var(--warning); }
        .progress-fill.danger { background: var(--danger); }
        
        .recommendation {
            display: flex;
            gap: 16px;
            padding: 20px;
            background: rgba(16, 185, 129, 0.05);
            border-radius: 8px;
            margin-bottom: 16px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        
        .recommendation-number {
            font-family: 'IBM Plex Mono', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--success);
            min-width: 40px;
        }
        
        .recommendation-content h4 {
            font-family: 'IBM Plex Mono', monospace;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }
        
        .recommendation-content p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        .funnel {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 24px 0;
        }
        
        .funnel-stage {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .funnel-bar {
            height: 48px;
            background: linear-gradient(90deg, var(--accent), rgba(243, 112, 33, 0.3));
            border-radius: 8px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            color: var(--text-primary);
            font-family: 'IBM Plex Mono', monospace;
            font-weight: 500;
        }
        
        .funnel-stats {
            text-align: right;
            min-width: 120px;
        }
        
        .funnel-count {
            font-family: 'IBM Plex Mono', monospace;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .funnel-percent {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        .section {
            margin-bottom: 48px;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 24px;
        }
        
        .tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-right: 8px;
        }
        
        .tag.success { background: rgba(16, 185, 129, 0.2); color: var(--success); }
        .tag.warning { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
        .tag.danger { background: rgba(239, 68, 68, 0.2); color: var(--danger); }
        
        footer {
            text-align: center;
            padding-top: 32px;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .metrics-grid { grid-template-columns: 1fr; }
            .two-column { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Customer Journey Analysis</h1>
            <p class="subtitle">nPath Sequential Pattern Analysis | Bank Customer Behavior Insights</p>
        </header>

        <!-- Executive Summary -->
        <section class="section">
            <h2>Executive Summary</h2>
            <div class="card">
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    This analysis examines <strong style="color: var(--accent);">130,487 customer events</strong> across 
                    <strong style="color: var(--accent);">18 interaction types</strong> using Teradata's nPath function 
                    to identify sequential patterns in customer behavior.
                </p>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value success">508</div>
                        <div class="metric-label">Successful Conversions</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value warning">380</div>
                        <div class="metric-label">Churn Journeys Identified</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">60%</div>
                        <div class="metric-label">Convert After 1 Browse</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value danger">~15 days</div>
                        <div class="metric-label">Avg. Complaint to Closure</div>
                    </div>
                </div>
                
                <div class="insight-box">
                    <p><strong>Key Finding:</strong> 60% of successful conversions happen after just 1 browse session, 
                    indicating quick decision-makers. However, 40% require multiple browsing sessions before converting, 
                    representing a significant nurturing opportunity.</p>
                </div>
            </div>
        </section>

        <!-- Key Metrics Dashboard -->
        <section class="section">
            <h2>Key Metrics Dashboard</h2>
            <div class="card">
                <h3>Interaction Volume by Type</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Interaction Type</th>
                            <th>Count</th>
                            <th>% of Total</th>
                            <th>Distribution</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>BROWSE</td>
                            <td>99,032</td>
                            <td>75.9%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill accent" style="width: 75.9%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>STARTS_APPLICATION</td>
                            <td>9,262</td>
                            <td>7.1%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill success" style="width: 7.1%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>CLICK</td>
                            <td>4,267</td>
                            <td>3.3%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill accent" style="width: 3.3%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>COMPLETE_APPLICATION</td>
                            <td>3,924</td>
                            <td>3.0%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill success" style="width: 3%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>COMPARE</td>
                            <td>3,875</td>
                            <td>3.0%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill accent" style="width: 3%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>CALL_COMPLAINT</td>
                            <td>1,307</td>
                            <td>1.0%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill danger" style="width: 1%"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>ACCOUNT_CLOSED</td>
                            <td>675</td>
                            <td>0.5%</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill danger" style="width: 0.5%"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Customer Journey Insights -->
        <section class="section">
            <h2>Customer Journey Insights</h2>
            
            <div class="two-column">
                <div class="card">
                    <h3>Conversion Funnel Analysis</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Pattern: Browse → Start Application → Complete Application
                    </p>
                    
                    <div class="funnel">
                        <div class="funnel-stage">
                            <div class="funnel-bar" style="width: 100%;">BROWSE</div>
                            <div class="funnel-stats">
                                <div class="funnel-count">99,032</div>
                                <div class="funnel-percent">100%</div>
                            </div>
                        </div>
                        <div class="funnel-stage">
                            <div class="funnel-bar" style="width: 9.4%;">STARTS_APPLICATION</div>
                            <div class="funnel-stats">
                                <div class="funnel-count">9,262</div>
                                <div class="funnel-percent">9.4%</div>
                            </div>
                        </div>
                        <div class="funnel-stage">
                            <div class="funnel-bar" style="width: 4%;">COMPLETE_APPLICATION</div>
                            <div class="funnel-stats">
                                <div class="funnel-count">3,924</div>
                                <div class="funnel-percent">4.0%</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="insight-box">
                        <p><strong>508 customers</strong> completed the full Browse → Start → Complete journey pattern.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Browse Count Before Conversion</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Distribution of browsing sessions before successful conversion
                    </p>
                    
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Browse Count</th>
                                <th>Journeys</th>
                                <th>% of Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="tag success">Quick</span> 1 Browse</td>
                                <td>305</td>
                                <td>60.0%</td>
                            </tr>
                            <tr>
                                <td>2 Browses</td>
                                <td>88</td>
                                <td>17.3%</td>
                            </tr>
                            <tr>
                                <td>3 Browses</td>
                                <td>39</td>
                                <td>7.7%</td>
                            </tr>
                            <tr>
                                <td>4 Browses</td>
                                <td>21</td>
                                <td>4.1%</td>
                            </tr>
                            <tr>
                                <td>5 Browses</td>
                                <td>15</td>
                                <td>3.0%</td>
                            </tr>
                            <tr>
                                <td><span class="tag warning">Research</span> 6+ Browses</td>
                                <td>40</td>
                                <td>7.9%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="card">
                <h3>Churn Journey Analysis</h3>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Pattern: Complaint → [Intermediate Events] → Account Closed | <strong>380 churn journeys identified</strong>
                </p>
                
                <div class="two-column" style="margin-top: 20px;">
                    <div>
                        <h4 style="color: var(--danger); margin-bottom: 12px;">Typical Churn Pattern</h4>
                        <div style="display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                            <span class="tag danger">CALL_COMPLAINT</span>
                            <span style="color: var(--text-secondary);">→</span>
                            <span class="tag warning">FEE_REVERSAL</span>
                            <span style="color: var(--text-secondary);">→</span>
                            <span class="tag warning">BALANCE_TRANSFER</span>
                            <span style="color: var(--text-secondary);">→</span>
                            <span class="tag danger">ACCOUNT_CLOSED</span>
                        </div>
                    </div>
                    <div>
                        <h4 style="color: var(--text-primary); margin-bottom: 12px;">Key Churn Metrics</h4>
                        <ul style="color: var(--text-secondary); list-style: none;">
                            <li>• Average time from complaint to closure: <strong style="color: var(--danger);">~15 days</strong></li>
                            <li>• Fee reversals appear frequently in churn paths</li>
                            <li>• Balance transfers are common pre-churn activities</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Business Recommendations -->
        <section class="section">
            <h2>Business Recommendations</h2>
            
            <div class="recommendation">
                <div class="recommendation-number">01</div>
                <div class="recommendation-content">
                    <h4>Optimize for Quick Converters</h4>
                    <p>Since <strong>60% convert after just 1 browse</strong>, ensure the first browsing experience is compelling with clear CTAs. Focus on reducing friction in the initial experience to capture these quick decision-makers.</p>
                </div>
            </div>
            
            <div class="recommendation">
                <div class="recommendation-number">02</div>
                <div class="recommendation-content">
                    <h4>Nurture Multi-Session Browsers</h4>
                    <p><strong>40% of customers need multiple sessions</strong> before converting. Implement retargeting campaigns, personalized email sequences, and saved session states to re-engage these customers and guide them toward conversion.</p>
                </div>
            </div>
            
            <div class="recommendation">
                <div class="recommendation-number">03</div>
                <div class="recommendation-content">
                    <h4>Proactive Churn Prevention</h4>
                    <p>The complaint → closure pattern takes <strong>~15 days on average</strong>. Implement proactive outreach within <strong>7 days of a complaint</strong> to retain at-risk customers before they reach the point of no return.</p>
                </div>
            </div>
            
            <div class="recommendation">
                <div class="recommendation-number">04</div>
                <div class="recommendation-content">
                    <h4>Fee Reversal Strategy</h4>
                    <p>Fee reversals appear frequently in churn paths (<strong>380 churn journeys identified</strong>). Consider proactive fee waivers for at-risk customers to prevent the complaint-to-closure cascade.</p>
                </div>
            </div>
            
            <div class="recommendation">
                <div class="recommendation-number">05</div>
                <div class="recommendation-content">
                    <h4>Application Completion Support</h4>
                    <p>Customers using comparison tools (COMPARE: <strong>3,875 events</strong>) and calculators during applications may need additional support. Consider implementing live chat or guided assistance during the application process.</p>
                </div>
            </div>
        </section>

        <!-- Data Summary -->
        <section class="section">
            <h2>Data Summary</h2>
            <div class="card">
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">130,487</div>
                        <div class="metric-label">Total Events Analyzed</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">18</div>
                        <div class="metric-label">Interaction Types</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">99,032</div>
                        <div class="metric-label">Browse Events (75.9%)</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">9,262</div>
                        <div class="metric-label">Application Starts</div>
                    </div>
                </div>
                
                <div class="insight-box">
                    <p><strong>Analysis Method:</strong> Teradata nPath function with sequential pattern matching (B+.S.C for conversions, COMPLAINT.OTHER*.CLOSED for churn) using NONOVERLAPPING mode.</p>
                </div>
            </div>
        </section>

        <footer>
            <p>Generated from nPath Analysis Results | Bank Customer Journey Analysis</p>
            <p style="margin-top: 8px; font-family: 'IBM Plex Mono', monospace; font-size: 0.8rem;">
                Data Source: demo.bank_events | Analysis: Teradata nPath
            </p>
        </footer>
    </div>
</body>
</html>
